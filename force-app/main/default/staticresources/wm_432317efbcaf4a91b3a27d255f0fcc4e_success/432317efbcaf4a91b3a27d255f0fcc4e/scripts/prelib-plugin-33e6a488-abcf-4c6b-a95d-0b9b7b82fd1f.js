!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var c,f=[],p=!1,d=-1;function g(){if(!p||!c)return;p=!1,c.length?f=c.concat(f):d=-1,f.length&&m()}function m(){if(p)return;var e=u(g);p=!0;for(var t=f.length;t;){for(c=f,f=[];++d<t;)c&&c[d].run();d=-1,t=f.length}c=null,p=!1,l(e)}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new h(e,t)),1!==f.length||p||u(m)};function h(e,t){this.fun=e,this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function v(){}o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){!function(){var e=function(e){e=e||{},e.version="0.3.3";e.logger=function(e,t){},e.log=function(t,n,r){n&&(t="[class="+n.name()+"] "+t),e.logger("DI - "+t,r||4)},e.error=function(t,n,r){e.log(t,n,r)},e.createContext=function(){var t={map:{},decorators:{}};t.decorate=function(e,n){t.decorators[e]||(t.decorators[e]=[]),t.decorators[e].push(n)},t.entry=function(e){return t.map[e]},t.register=function(n,r,i){var o=e.entry(n,t).type(r).args(i);return t.map[n]=o,o},t.has=function(e){return null!=t.entry(e)},t.get=function(n,r){return t.has(n)||e.error("Object["+n+"] is not registered"),t.entry(n).getObject(r)},t.create=function(n,r){if(t.entry(n).strategy()==e.strategy.singleton&&e.error("Attempt to create singleton object ["+n+"]"),t.has(n))return t.entry(n).create(r);e.error("Object["+n+"] is not registered")},t.initialize=function(){function n(n){var r=t.entry(n);r?r.initialize()&&r.strategy().initialize()&&t.get(n):e.error("Object["+n+"] is not registered")}return function(e){if(e)n(e);else for(var e in t.map)n(e)}}(),t.clear=function(){this.map={},this.decorators={}};function n(e){for(;e.indexOf(" ")>=0;)e=e.replace(" ","");return e}return t.resolve=function(n){var r=n.load(),i={};return t.eachDependency(n.dependencies(),function(o,a){var s=t.get(o,r);t.ready(s,t.entry(o)),null==s&&e.error("Dependency ["+n.name()+"."+a+"]->["+o+"] can not be satisfied",n),i[a]=s}),i},t.eachDependency=function(t,r){if(t)for(var i=n(t).split(","),o=0;o<i.length;o++){var a=i[o];if(a){var s=e.dependencyExpression(a);try{r(s.name,s.property,o)}catch(u){e.error("An exception was thrown while the DI tried to resolve class '"+s.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+u.message)}}}},t.ready=function(e,n){var r=n.wasReady();if(n.wasReady(!0),!r){var i=t.createCallback();i&&i(n.name(),e),e&&"function"==typeof e.ready&&e!=window&&e!=window.document&&e!=window.document.body&&(n.wasReady(!0),e.ready.apply(e,n.injector().ready(e,n)||[]))}return e},t.createCallback=function(){var e;return function(n){if(0==arguments.length)return e;return e=n,t}}(),t},e.dependencyExpression=function(e){var t={},n=e,r=e;if(e.indexOf("=")>0){var i=e.split("=");n=i[0],r=i[1]}return t.name=r,t.property=n,t},e.entry=function(t,n){var r,i={};i.name=function(){return t};for(var o=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],a={},s=0;s<o.length;s++){var u=o[s];l(u)}function l(e){i[e]=function(t){if(!arguments.length)return a[e];return a[e]=t,i}}i.depsDictionary=function(e){if(!arguments.length)return a.depsDictionary||i.depsDictionary(n.resolve(i)),a.depsDictionary;return a.depsDictionary=e,i},a.strategy=e.defaults.strategy,a.factory=e.defaults.factory,a.injector=e.defaults.injector,a.load=e.defaults.load,a.wasReady=!1,a.initialize=!0,i.create=function(t,o,s){s=s||e.load.recursive;var u=a.strategy.test(r,s);if(o)return u;u&&(t=a.injector.create(t?t:a.args,i,n,s));var l=a.strategy.create(r,a.factory,a.type,t,n,i,s);return n.ready(l,i)},i.getObject=function(e){return i.create(void 0,void 0,e)},i.object=function(e){return arguments.length?(r=e,i):i.create()};function c(e,t){return void 0!=t&&i.type(t),i.factory(e),i}i.asFunction=function(t){return c(e.factory.func,t)},i.asInstance=function(t){return c(e.factory.instance,t)},i.asCtor=function(t){return c(e.factory.constructor,t)},i.asSingleton=function(){return i.strategy(e.strategy.singleton)},i.asProto=function(){return i.strategy(e.strategy.proto)},i.injectToCtor=function(){return i.injector(e.injector.ctor)},i.injectToReady=function(){return i.injector(e.injector.ready)},i.injectToProperty=function(){return i.injector(e.injector.property)};function f(e,t){return void 0!=t&&i.dependencies(t),i.load(e),i}return i.flatDependencies=function(t){return f(e.load.flat,t)},i.recursiveDependencies=function(t){return f(e.load.recursive,t)},i},e.strategy={proto:{test:function(e,t){return!t||t()},initialize:function(){return!1},create:function(e,n,r,i,o,a,s){return e=t(n,r,i,a),s()&&a.injector().ready(e,a),a.depsDictionary(void 0),a.wasReady(!1),e}},singleton:{test:function(e,t){return!e&&(!t||t())},initialize:function(){return!0},create:function(e,n,r,i,o,a,s){return e||(e=t(n,r,i,a),a.object(e),a.wasReady(!0),s()&&a.injector().ready(e,a),a.wasReady(!1)),e}}};function t(e,t,r,i){var o=e(t,r,i),a=n.decorators[i.name()];if(a)for(var s=0;s<a.length;s++)o=a[s](o);return o}return e.factory={constructor:function(t,n,r){if(!(n instanceof Array))return new t(n);if(n.length<=10)return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]);if(n.length<=30)return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]);e.error("trying to create a class with too many args!",r)},func:function(e,t,n){return t instanceof Array?e.apply(e,t):e(t)},instance:function(e,t,n){return e}},e.injector={property:{create:function(e,t,n){return e},ready:function(e,t){var n=t.depsDictionary();for(var r in n)e[r]=n[r];var i=t.args();void 0==i||n.hasOwnProperty("args")||(e.args=i)}},ready:{create:function(e,t,n){return e},ready:function(e,t){var r=t.args(),i=[],o=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){i[n]=o[t]}),r){r=r instanceof Array?r:[r];for(var a=0;a<r.length;a++)i.push(r[a])}return i}},ctor:{create:function(e,t,n){var r=[],i=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),e){e=e instanceof Array?e:[e];for(var o=0;o<e.length;o++)r.push(e[o])}return r},ready:function(e,t){}}},e.load={flat:function(e,t,n){return!1},recursive:function(e,t,n){return!0}},e.defaults={strategy:e.strategy.singleton,factory:e.factory.constructor,injector:e.injector.ctor,load:e.load.recursive},e}(),n=e.createContext();t.exports=function(t){t.di=e,t.ctx=n}}()},{}],3:[function(e,t,n){"use strict";var r,i,o="walkme_prelib_log_enabled",a=1e4,s=[],u={write:l,getCookieName:d,setCookieName:p,enableLog:g,disableLog:m,isLogEnabled:h,readCookie:y,writeCookie:w,getLogHistoryRecords:f};function l(){if(h()){var e=arguments;try{e.stack=(new Error).stack}catch(t){}c(e);var n=Array().slice.call(e);console.log.apply(console,n)}}function c(e){var t=new Date;e.timeElapsed=t-(i||t),i=t,s.unshift(e),s=s.splice(0,a)}function f(){return s}function p(e){o=e}function d(){return o}function g(){r=!0,w(o,!0)}function m(){r=!1,w(o,"",-1)}function h(){if("undefined"!=typeof r)return r;return v(),r}function v(){var e=window.console&&(y(o)||!1);r=e&&"true"==e.toString().toLowerCase()}function y(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():void 0}function w(e,t,n){var r,i="";n&&(r=new Date,r.setTime(r.getTime()+864e5*n),i="; expires="+r.toUTCString()),document.cookie=e+"="+t+i+"; path=/"}t.exports=u},{}],4:[function(e,t,n){(function(t,n){!function(){var r,i=e("wm-prelib-logger");function o(){return r}window._walkmeInternals=window._walkmeInternals||{},e("wm-di")(window._walkmeInternals);var a=window._walkmeInternals.ctx;!function(){var o=function(){function e(){this._plugins=[]}return e.prototype.register=function(e){this._plugins.push(e)},e.prototype.run=function(e){for(var t,n=this._plugins,i=[],o=0;o<n.length;o++)t=n[o].run(e),t&&i.push(t);return r.ctx.get("PromiseManager").all(i)},e}(),s=function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}var a;a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var s=a,u=Date.now||function(){return(new Date).getTime()};function l(){}var c=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return l.prototype=e,new l};function f(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function p(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}var d={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,t){if("function"!=typeof t)throw new TypeError("Callback must be a function");var n,r=p(this);n=r[e],n||(n=r[e]=[]),f(n,t)===-1&&n.push(t)},off:function(e,t){var n,r,i=p(this);if(!t)return void(i[e]=[]);n=i[e],r=f(n,t),r!==-1&&n.splice(r,1)},trigger:function(e,t,n){var r,i,o=p(this);if(r=o[e])for(var a=0;a<r.length;a++)(i=r[a])(t,n)}},g={instrument:!1};d.mixin(g);function m(e,t){if("onerror"===e)return void g.on("error",t);if(2!==arguments.length)return g[e];g[e]=t}var h=[];function v(){setTimeout(function(){for(var e,t=0;t<h.length;t++){e=h[t];var n=e.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),g.trigger(e.name,e.payload)}h.length=0},50)}function y(e,t,n){1===h.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:u(),error:g["instrument-with-stack"]?new Error(t._label):null}})&&v()}var w=y;function _(){return new TypeError("A promises callback cannot return that same promise.")}function E(){}var C=void 0,S=1,b=2,A=new I;function R(e){try{return e.then}catch(t){return A.error=t,A}}function T(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function N(e,t,n){g.async(function(e){var r=!1,i=T(n,t,function(n){if(r)return;r=!0,t!==n?O(e,n):D(e,n)},function(t){if(r)return;r=!0,U(e,t)},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,U(e,i))},e)}function x(e,t){t._state===S?D(e,t._result):t._state===b?(t._onError=null,U(e,t._result)):V(t,void 0,function(n){t!==n?O(e,n):D(e,n)},function(t){U(e,t)})}function L(e,t){if(t.constructor===e.constructor)x(e,t);else{var n=R(t);n===A?U(e,A.error):void 0===n?D(e,t):i(n)?N(e,t,n):D(e,t)}}function O(e,t){e===t?D(e,t):r(t)?L(e,t):D(e,t)}function P(e){e._onError&&e._onError(e._result),j(e)}function D(e,t){if(e._state!==C)return;e._result=t,e._state=S,0===e._subscribers.length?g.instrument&&w("fulfilled",e):g.async(j,e)}function U(e,t){if(e._state!==C)return;e._state=b,e._result=t,g.async(P,e)}function V(e,t,n,r){var i=e._subscribers,o=i.length;e._onError=null,i[o]=t,i[o+S]=n,i[o+b]=r,0===o&&e._state&&g.async(j,e)}function j(e){var t=e._subscribers,n=e._state;if(g.instrument&&w(n===S?"fulfilled":"rejected",e),0===t.length)return;for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?k(n,r,i,o):i(o);e._subscribers.length=0}function I(){this.error=null}var M=new I;function F(e,t){try{return e(t)}catch(n){return M.error=n,M}}function k(e,t,n,r){var o,a,s,u,l=i(n);if(l){if(o=F(n,r),o===M?(u=!0,a=o.error,o=null):s=!0,t===o)return void U(t,_())}else o=r,s=!0;t._state!==C||(l&&s?O(t,o):u?U(t,a):e===S?D(t,o):e===b&&U(t,o))}function X(e,t){var n=!1;try{t(function(t){if(n)return;n=!0,O(e,t)},function(t){if(n)return;n=!0,U(e,t)})}catch(r){U(e,r)}}function B(e,t,n){return e===S?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function W(e,t,n,r){var i=this;i._instanceConstructor=e,i.promise=new e(E,r),i._abortOnReject=n,i._validateInput(t)?(i._input=t,i.length=t.length,i._remaining=t.length,i._init(),0===i.length?D(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&D(i.promise,i._result))):U(i.promise,i._validationError())}var H=W;W.prototype._validateInput=function(e){return s(e)},W.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},W.prototype._init=function(){this._result=new Array(this.length)},W.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===C&&i<t;i++)e._eachEntry(r[i],i)},W.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;o(e)?e.constructor===r&&e._state!==C?(e._onError=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=n._makeResult(S,t,e))},W.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===C&&(r._remaining--,r._abortOnReject&&e===b?U(i,n):r._result[t]=r._makeResult(e,t,n)),0===r._remaining&&D(i,r._result)},W.prototype._makeResult=function(e,t,n){return n},W.prototype._willSettleAt=function(e,t){var n=this;V(e,void 0,function(e){n._settledAt(S,t,e)},function(e){n._settledAt(b,t,e)})};function Q(e,t){return new H(this,e,(!0),t).promise}var q=Q;function G(e,t){var n=this,r=new n(E,t);if(!s(e))return U(r,new TypeError("You must pass an array to race.")),r;var i=e.length;function o(e){O(r,e)}function a(e){U(r,e)}for(var u=0;r._state===C&&u<i;u++)V(n.resolve(e[u]),void 0,o,a);return r}var z=G;function Y(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(E,t);return O(r,e),r}var $=Y;function K(e,t){var n=this,r=new n(E,t);return U(r,e),r}var J=K,Z="rsvp_"+u()+"-",ee=0;function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ne(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function re(e,t){var n=this;n._id=ee++,n._label=t,n._state=void 0,n._result=void 0,n._subscribers=[],g.instrument&&w("created",n),E!==e&&(i(e)||te(),n instanceof re||ne(),X(n,e))}var ie=re;re.cast=$,re.all=q,re.race=z,re.resolve=$,re.reject=J,re.prototype={constructor:re,_guidKey:Z,_onError:function(e){var t=this;g.after(function(){t._onError&&g.trigger("error",e,t._label)})},then:function(e,t,n){var r=this,i=r._state;if(i===S&&!e||i===b&&!t)return g.instrument&&w("chained",r,r),r;r._onError=null;var o=new r.constructor(E,n),a=r._result;if(g.instrument&&w("chained",r,o),i){var s=arguments[i-1];g.async(function(){k(i,o,s,a)})}else V(r,o,e,t);return o},"catch":function(e,t){return this.then(void 0,e,t)},"finally":function(e,t){var n=this,r=n.constructor;return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)}};function oe(e,t,n){this._superConstructor(e,t,!1,n)}oe.prototype=c(H.prototype),oe.prototype._superConstructor=H,oe.prototype._makeResult=B,oe.prototype._validationError=function(){return new Error("allSettled must be called with an array")};function ae(e,t){return new oe(ie,e,t).promise}var se=ae;function ue(e,t){return ie.all(e,t)}var le,ce=ue,fe=0;({}).toString;function pe(e,t){be[fe]=e,be[fe+1]=t,fe+=2,2===fe&&Te()}var de=pe,ge="undefined"!=typeof window?window:void 0,me=ge||{},he=me.MutationObserver||me.WebKitMutationObserver,ve="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),ye="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function we(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=setImmediate),function(){e(Ae)}}function _e(){return function(){le(Ae)}}function Ee(){var e=0,t=new he(Ae),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function Ce(){var e=new MessageChannel;return e.port1.onmessage=Ae,function(){e.port2.postMessage(0)}}function Se(){return function(){setTimeout(Ae,1)}}var be=new Array(1e3);function Ae(){for(var e=0;e<fe;e+=2){var t=be[e],n=be[e+1];t(n),be[e]=void 0,be[e+1]=void 0}fe=0}function Re(){try{var t=e,n=t("vertx");return le=n.runOnLoop||n.runOnContext,_e()}catch(r){return Se()}}var Te;Te=ve?we():he?Ee():ye?Ce():void 0===ge&&"function"==typeof e?Re():Se();function Ne(e){var t={};return t.promise=new ie(function(e,n){t.resolve=e,t.reject=n},e),t}var xe=Ne;function Le(e,t,n){return ie.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as filter's second argument.");for(var r=e.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a]);return ie.all(o,n).then(function(t){for(var n=new Array(r),i=0,o=0;o<r;o++)t[o]&&(n[i]=e[o],i++);return n.length=i,n})})}var Oe=Le;function Pe(e,t,n){this._superConstructor(e,t,!0,n)}var De=Pe;Pe.prototype=c(H.prototype),Pe.prototype._superConstructor=H,Pe.prototype._init=function(){this._result={}},Pe.prototype._validateInput=function(e){return e&&"object"==typeof e},Pe.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},Pe.prototype._enumerate=function(){var e=this,t=e.promise,n=e._input,r=[];for(var i in n)t._state===C&&Object.prototype.hasOwnProperty.call(n,i)&&r.push({position:i,entry:n[i]});var o=r.length;e._remaining=o;for(var a,s=0;t._state===C&&s<o;s++)a=r[s],e._eachEntry(a.entry,a.position)};function Ue(e,t,n){this._superConstructor(e,t,!1,n)}Ue.prototype=c(De.prototype),Ue.prototype._superConstructor=H,Ue.prototype._makeResult=B,Ue.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};function Ve(e,t){return new Ue(ie,e,t).promise}var je=Ve;function Ie(e,t){return new De(ie,e,t).promise}var Me=Ie;function Fe(e,t,n){return ie.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as map's second argument.");for(var r=e.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a]);return ie.all(o,n)})}var ke=Fe;function Xe(){this.value=void 0}var Be=new Xe,We=new Xe;function He(e){try{return e.then}catch(t){return Be.value=t,Be}}function Qe(e,t,n){try{e.apply(t,n)}catch(r){return Be.value=r,Be}}function qe(e,t){for(var n,r,i={},o=e.length,a=new Array(o),s=0;s<o;s++)a[s]=e[s];for(r=0;r<t.length;r++)n=t[r],i[n]=a[r+1];return i}function Ge(e){for(var t=e.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=e[r];return n}function ze(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function Ye(e,t){var n=function(){for(var n,r=this,i=arguments.length,o=new Array(i+1),a=!1,u=0;u<i;++u){if(n=arguments[u],!a){if(a=Ze(n),a===We){var l=new ie(E);return U(l,We.value),l}a&&a!==!0&&(n=ze(a,n))}o[u]=n}var c=new ie(E);return o[i]=function(e,n){e?U(c,e):void 0===t?O(c,n):t===!0?O(c,Ge(arguments)):s(t)?O(c,qe(arguments,t)):O(c,n)},a?Je(c,o,e,r):Ke(c,o,e,r)};return n.__proto__=e,n}var $e=Ye;function Ke(e,t,n,r){var i=Qe(n,r,t);return i===Be&&U(e,i.value),e}function Je(e,t,n,r){return ie.all(t).then(function(t){var i=Qe(n,r,t);return i===Be&&U(e,i.value),e})}function Ze(e){return!(!e||"object"!=typeof e)&&(e.constructor===ie||He(e))}var et;if("object"==typeof self)et=self;else{if("object"!=typeof n)throw new Error("no global: `self` or `global` found");et=n}function tt(e,t){return ie.race(e,t)}var nt=tt;function rt(e,t){return ie.reject(e,t)}var it=rt;function ot(e,t){return ie.resolve(e,t)}var at=ot;function st(e){throw setTimeout(function(){throw e}),e}var ut=st;g.async=de,g.after=function(e){setTimeout(e,0)};function lt(e,t){g.async(e,t)}function ct(){g.on.apply(g,arguments)}function ft(){g.off.apply(g,arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var pt=window.__PROMISE_INSTRUMENTATION__;m("instrument",!0);for(var dt in pt)pt.hasOwnProperty(dt)&&ct(dt,pt[dt])}var gt={race:nt,Promise:ie,allSettled:se,hash:Me,hashSettled:je,denodeify:$e,on:ct,off:ft,map:ke,filter:Oe,resolve:at,reject:it,all:ce,rethrow:ut,defer:xe,EventTarget:d,configure:m,async:lt};return gt}(),u=function(){function e(e){this._eventsBase=e,this._promiseManager=r.ctx.get("PromiseManager")}return e.prototype.async=function(e,t,n,r){var i;try{i=this._eventsBase.triggerHandler(e,t)}catch(o){r&&r()}this._promiseManager.Promise.resolve(i).then(n,r)},e.prototype.sync=function(e,t,n){var r=this._eventsBase.triggerHandler(e,t);if(void 0==r)return n;return r},e}(),l=function(){function e(e){this._eventsBase=e}return e.prototype.on=function(e,t){this._eventsBase.on(e,t)},e.prototype.once=function(e,t){this._eventsBase.one(e,t)},e.prototype.off=function(e,t){this._eventsBase.off(e,t)},e}(),c=function(){function e(e){this._configs=new o,this._plugins=new o,this.ctx=e.ctx,this.di=e.di}return e.prototype.config=function(e){this._configs.register(e)},e.prototype.plugin=function(e){this._plugins.register(e)},e.prototype.start=function(e){var t=this._configs,n=this._plugins;t.run(e).then(function(){return n.run(e)}).then(this.callWalkmePreLibLoaded)["catch"](this.logError)},e.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},e.prototype.logError=function(e){r.ctx.has("PrelibLogger")&&r.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+e+"\nDetails:\n"+e.stack)},e}();a.register("PromiseManager").asInstance(s),a.register("Promise").asCtor(s.Promise).asProto(),r=new c(window._walkmeInternals);var f=wmjQuery({}),p=new u(f),d=new l(f);window._walkmeInternals.events={listener:d,trigger:p,_eventsBase:f},r.ctx.register("EventsTrigger").asInstance(p),r.ctx.register("EventsListener").asInstance(d),r.ctx.register("PrelibLogger").asInstance(i)}(),e("wm-plugin-new-scroll")(o),e("wm-plugin-salesforce-find-element-adapter")(o),e("wm-plugin-salesforce-iframe-remover")(o),e("wm-plugin-sf-lightning-init-user-context")(o),e("wm-plugin-sf-vars")(o);var s=function(){var e,t=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return t&&(e=t.getSettingsFile()),e||(e={}),e}();r.start(s)}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1,"wm-di":2,"wm-plugin-new-scroll":6,"wm-plugin-salesforce-find-element-adapter":13,"wm-plugin-salesforce-iframe-remover":19,"wm-plugin-sf-lightning-init-user-context":20,"wm-plugin-sf-vars":26,"wm-prelib-logger":3}],5:[function(e,t,n){var r,i=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();t.exports=function(e){return r?r:r=new i(e)}},{}],6:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.newScrollPlugin=n}(this,function(t){var n=t(),r=(n.ctx,n.di,e("wm-scroll")),i=function(){function e(){this._logger=n.ctx.get("PrelibLogger"),r["default"].setjQuery(wmjQuery),r["default"].setCtx(n.ctx)}return e.prototype.log=function(e){var t="NewScroll";this._logger.write("["+t+"] "+e)},e.prototype.scrollToElement=function(e,t,i,o,a,s,u,l){var c=n.ctx.get("ScrollUtils"),f=s==c.SCROLL_MODES.Animated,p=wmjQuery.extend({},o,{isAnimated:f});r["default"].scrollToElement(e,u,a,p,i)},e.prototype.run=function(){var e=this;return n.ctx.decorate("FindElementCornerMargin",function(e){return 2}),n.ctx.decorate("PositionHelper",function(t){return t.isElementInViewport=function(t){return e.log("Custom isElementInViewport was called"),r["default"].viewport.containsElement(t)&&t.is(":wm_interact_all_points")},t}),n.ctx.decorate("IFrameScrollManager",function(t){return t.doNormalScroll=function(t,n,i){return e.log("Custom doNormalScroll was called"),r["default"].scrollToElement.call(r["default"],t,i)},t}),n.ctx.decorate("ScrollManager",function(t){return t.scrollToBalloon=function(){},t.scrollToElementIfNeeded=function(n,i,o,a,s,u,l,c){e.log("Custom scrollToElementIfNeeded was called"),r["default"].viewport.containsElement(n,!0).then(function(e){return!!e&&r["default"].viewport.containsElement(l,!0)}).then(function(r){if(!r)return e.scrollToElement(n,i,o,t.getScrollOptions(a),s,u,l,c)})["finally"](function(){o&&o()})["catch"](function(t){e.log(t)})},t}),null},e}();n.plugin(new i)})},{"wm-scroll":44}],7:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t="CalendarHomeConverter ",n=/^(DIV\[id=\"calendarHome\"\]\s)UL\sLI\sA$/,r="";function i(){}this.match=function(e){if(o()&&a(e))return!0;return!1},this.process=function(i){if(!e.isNewVersion())return;var o=i.ElementDescription.autoQuery;e.writeToLog(t,"Original selector: "+o);var a=n.exec(o);i.ElementDescription.autoQuery=o.replace(a[1],r),e.writeToLog(t,"Converted selector: "+i.ElementDescription.autoQuery)};function o(){return wmjQuery('DIV[id="calendarHome"]:mt_visible').length>0}function a(e){var t=e.ElementDescription.autoQuery;if(t){var r=n.exec(t);if(r)return!0}return!1}i()}r().register("CalendarHomeConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":39}],8:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n="ChatterMenuConverter ",i=/\sSPAN$/,o="";function a(){t=r().get("PrelibLogger")}this.match=function(e){var t=e.ElementDescription.elementClass;if(t&&"anchorUnderline"==t&&s())return!0;return!1},this.process=function(t){if(!e.isNewVersion())return;var r=t.ElementDescription.autoQuery;e.writeToLog(n,"Original selector: "+r),r&&(r=r.replace(i,o),e.writeToLog(n,"Converted selector: "+r),t.ElementDescription.autoQuery=r)};function s(){var e=wmjQuery(".desktopChatterPage.forceChatterDesktopChatter:mt_visible");if(e.length>0)return!0;return!1}a()}r().register("ChatterMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":39}],9:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i,o,a,s,u){var l,c;function f(){l=r().get("PrelibLogger"),c=[e,t,n,i,o,a,s]}this.extendOriginalSettings=function(e){var t=e.ElementDescription.elementXpath;if(p(t)&&d(e),c)for(var n=0;n<c.length;n++){var r=c[n];try{if(r.match(e)){r.process(e);break}}catch(i){l.write("Exception while trying to use a converter, skipping it"),l.write(i)}}};function p(e){return null!=e.match(u.HEADER_XPATH)}function d(e){e.IsIgnoreId=!0}f()}r().register("FindElementAdapter").asCtor(i).dependencies("NavBarConverter, CalendarHomeConverter, LeftMenuConverter, IconWithArrowButtonConverter, LeadsConverter, ModalConverter, ChatterMenuConverter, sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":39}],10:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,r=["slds-button","slds-button--icon-more"],i=["slds-button","slds-button--icon","slds-button--icon-more"],o="."+r.join("."),a=o,s="/div$1/div[1]/div[1]/div[1]/div[1]/a[1]",u="/div$1/div[1]/button[1]",l=/\sa$|^a$/i,c=/\sbutton$|^button$/i;function f(){p()}function p(){var e=d("div"),r=d("div",!0),i=d("a"),o=d("button"),a=e+r+"(?:/div[1])?"+e+e+e+i;t=new RegExp(a+"$","i");var s=r+e+o;n=new RegExp(s+"$","i")}this.match=function(e){if(h(e)&&!g())return!0;if(v(e)&&!m())return!0;return!1},this.process=function(e){var t=g();t?(R("Converting from Summer to Spring"),C(e)):(R("Converting from Spring to Summer"),E(e))};function d(e,t){return t?"\\/"+e+"(\\[?[0-9]*\\]?)":"\\/"+e+"\\[?[0-9]*\\]?"}function g(){return!e.isNewVersion()}function m(){return e.isNewVersion()}function h(e){return y(e,t,r)}function v(e){return y(e,n,i)}function y(e,t,n){var r=t.test(e.ElementDescription.elementXpath);if(!r)return!1;var i=w(e),o=_(n,i);if(!o)return!1;return!0}function w(e){return e.ElementDescription.elementClass.split(" ")}function _(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=mtjQuery.inArray(r,t)!=-1;if(!i)return!1}return!0}function E(e){b(e,t,u),A(e,l,a),S(e,i)}function C(e){b(e,n,s),A(e,c,o),S(e,r)}function S(e,t){var n=t.join(" ");e.ElementDescription.elementClass=n,e.ElementDescription["class"]=n}function b(e,t,n){var r=e.ElementDescription.elementXpath,n=r.replace(t,n);R("oldXPath : "+r),R("newXPath : "+n),e.ElementDescription.elementXpath=n}function A(e,t,n){var r=e.ElementDescription.autoQuery,i=r.replace(t," "+n);R("oldAutoQuery : "+r),R("newAutoQuery : "+i),e.ElementDescription.autoQuery=i}function R(t){e.writeToLog("IconWithArrowButtonConverter",t)}f()}r().register("IconWithArrowButtonConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":39}],11:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t="LeadsConverter ",n="pa-card  full runtime_sales_pathassistantPathAssistantCard runtime_sales_pathassistantPathAssistantCardDesktop",r=".pa-card.large.runtime_sales_pathassistantPathAssistantCard.runtime_sales_pathassistantPathAssistantCardDesktop";function i(){}this.match=function(e){var t=e.ElementDescription.elementClass;if(t&&t==n&&o())return!0;return!1},this.process=function(n){if(!e.isNewVersion())return;var r=n.ElementDescription.elementClass;e.writeToLog(t,"Original class: "+r),n.ElementDescription.elementClass=r.replace("full","large"),e.writeToLog(t,"Converted class: "+n.ElementDescription.elementClass)};function o(){return wmjQuery(r+":mt_visible").length>0}i()}r().register("LeadsConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":39}],12:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,i="LeftMenuConverter ",o="navItemsReport",a="navItemsDashboard",s="navItemsFolder",u="folderHeader",l="folder-header",c="entityHeader",f="entity-header";function p(){t=r().get("PrelibLogger"),n=[{from:o,to:s},{from:a,to:s},{from:u,to:l},{from:c,to:f}]}this.match=function(e){var t=e.ElementDescription.autoQuery;if(t)for(var r=0;r<n.length;r++){var i=n[r];if(t.indexOf(i.from)>-1)return!0}return!1},this.process=function(t){var r=!1;if(e.isNewVersion()){e.writeToLog(i,"Detected a capture from an old version in a new version, converting...");for(var o=t.ElementDescription.autoQuery,a=t.ElementDescription.elementId,s=0;s<n.length;s++){var u=n[s];if(o.indexOf(u.from)>-1){
var l=d(o,u.from,u.to,"selector");t.ElementDescription.autoQuery=l,r=!0}if(a&&a.indexOf(u.from)>-1){var l=d(a,u.from,u.to,"ID");t.ElementDescription.elementId=l,r=!0}if(r)return}}};function d(t,n,r,o){e.writeToLog(i,"Original "+o+":"+t);var a=t.replace(n,r);return e.writeToLog(i,"Converted "+o+":"+a),a}p()}r().register("LeftMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":39}],13:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry,i=e("wm-prelib-plugin-entry-manager").getCtx;t.exports=r(function(t){e("./salesforceFindElementAdapter.js").SalesforceFindElementAdapter,e("./findElementAdapter.js"),e("./navBarConverter.js"),e("./calendarHomeConverter.js"),e("./leftMenuConverter.js"),e("./iconWithArrowButtonConverter.js"),e("./leadsConverter.js"),e("../src/modalConverter.js"),e("./chatterMenuConverter.js"),e("./sfAdapterUtils.js"),e("./sfAdapterConsts.js");t(i().get("SalesforceFindElementAdapter"))})},{"../src/modalConverter.js":14,"./calendarHomeConverter.js":7,"./chatterMenuConverter.js":8,"./findElementAdapter.js":9,"./iconWithArrowButtonConverter.js":10,"./leadsConverter.js":11,"./leftMenuConverter.js":12,"./navBarConverter.js":15,"./salesforceFindElementAdapter.js":16,"./sfAdapterConsts.js":17,"./sfAdapterUtils.js":18,"wm-prelib-plugin-entry-manager":39}],14:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[2\]\/div\[[0-9]*\]\/div\[2\]\/div\[1\]\/div\[2\]\/form\[1\]\/section\[1\]/;function n(){}this.match=function(e){if(i(e)&&!r())return!0;return!1},this.process=function(e){var t=r();t||(c("Converting from Spring to Summer"),a(e))};function r(){return!e.isNewVersion()}function i(e){return o(e,t)}function o(e,t){var n=t.test(e.ElementDescription.elementXpath);if(!n)return!1;return!0}function a(e){e.IsIgnoreId=!0;var t=e.ElementDescription.elementClass&&e.ElementDescription.elementClass.indexOf("sectionHeader")>-1;l(e,t),u(e,t),s(e,t)}function s(e,t){var n=e.ElementDescription.autoQuery,r="div.uiModal "+n.replace(/section ?/gi,"").replace(/form ?/gi,"");t&&(r=NaN),c("oldAutoQuery : "+n),c("newAutoQuery : "+r),e.ElementDescription.autoQuery=r}function u(e,t){t&&(e.ElementDescription.elementClass=e.ElementDescription.elementClass.replace("sectionHeader","section-header-title"))}function l(e,t){var n=e.ElementDescription.elementXpath,r=n.replace(/\/form\[([0-9]*)\]\/section\[1\]\/div\[1\]/gi,"/div[$1]/div[4]").replace(/\/section\[([0-9]*)\]\/div\[2\]\/div\[([0-9]*)\]\/div\[([0-9]*)\]/gi,"/div[$1]/div[1]/div[1]/div[$2]/div[$3]/div[1]").replace(/\/fieldset\[([0-9]*)\]/gi,"/div[1]/fieldset[1]").replace(/\/section\[([0-9]*)\]/gi,"/div[$1]");t&&(r=r.replace(/\/div\[([0-9]*)\]$/i,"/h3[$1]")),c("oldXPath : "+n),c("newXPath : "+r),e.ElementDescription.elementXpath=r}function c(t){e.writeToLog("ModalConverter",t)}n()}r().register("ModalConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":39}],15:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){var n,i,o,a,s,u="NavBarConverter ";function l(){s=r().get("PrelibLogger")}this.match=function(e){var n=e.ElementDescription.elementXpath;return null!=n.match(t.NAV_BAR_XPATH)},this.process=function(r){var s=r.ElementDescription.elementXpath;y(s);var l=f(s),d=p();!l&&d?(e.writeToLog(u,"Detected a capture from an old version in a new version, converting..."),c(r,n,i,t.NEW_NAV_BAR_APP_SELECTOR)):l&&!d&&(e.writeToLog(u,"Detected a capture from a new version in an old version, converting..."),c(r,o,a,t.HEADER_SELECTOR))};function c(e,t,n,r){var i=d(e,t);i&&(g(e,r),v(e,n))}function f(e){return null!=e.match(t.NEW_NAV_BAR_XPATH)}function p(){return"undefined"==typeof isNewVersionDetected&&(isNewVersionDetected=wmjQuery("one-appnav").length>0),isNewVersionDetected}function d(t,n){var r=t.ElementDescription.elementXpath;e.writeToLog(u,"Original xpath: "+r);for(var i=!1,o=0;o<n.length;o++){var a=n[o],s=a.originalXpath.exec(r);s&&(i=!0,r=r.slice(0,s.index)+r.substring(s.index).replace(s[1],a.convertedXpath))}return t.ElementDescription.elementXpath=r,e.writeToLog(u,"Converted xpath: "+r),i}function g(t,n){var r=t.ElementDescription.elementXpath,i=m(r,n);t.ElementDescription.autoQuery&&(e.writeToLog(u,"autoQuery detected, updating with the new selector"),t.ElementDescription.autoQuery=i)}function m(t,n){var r=n+" "+h(t);return e.writeToLog(u,"New selector created: "+r),r}function h(e){var t=e.split("/"),n=t[t.length-1],r=n.split("[")[0];return r.toUpperCase()}function v(t,n){if(e.writeToLog(u,"Converting classes..."),t.ElementDescription.elementClass)for(var r=0;r<n.length;r++){var i=n[r];null!=t.ElementDescription.elementClass.match(i.originalClass)&&(t.ElementDescription.elementClass=t.ElementDescription.elementClass.replace(i.originalClass,i.convertedClass),e.writeToLog(u,"converted "+i.originalClass+" class to "+i.convertedClass+" class"))}}function y(e){E(e),_(),w()}function w(){if(!o){var e="li["+C(t.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[2]/div[1]/ul[1]",n="li["+C(t.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[1]/div[1]/div[1]/a[1]";o=[{originalXpath:t.NEW_NAV_BAR_APP_REGEX,convertedXpath:t.OLD_NAV_BAR_APP},{originalXpath:t.NEW_NAV_BAR_REGEX,convertedXpath:t.OLD_NAV_BAR},{originalXpath:t.NEW_NAV_BAR_ITEM_REGEX,convertedXpath:t.OLD_NAV_BAR_ITEM},{originalXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW},{originalXpath:t.NEW_MORE_BUTTON_MENU_REGEX,convertedXpath:e},{originalXpath:t.NEW_MORE_BUTTON_REGEX,convertedXpath:n},{originalXpath:t.NEW_MORE_BUTTON_MENU_ITEM_REGEX,convertedXpath:t.OLD_MORE_BUTTON_MENU_ITEM},{originalXpath:t.NEW_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:t.OLD_NAV_BAR_DROPDOWN_ITEM},{originalXpath:t.NEW_APP_LAUNCHER_REGEX,convertedXpath:t.OLD_APP_LAUNCHER},{originalXpath:t.NEW_LAST_TAG_SPAN_REGEX,convertedXpath:t.OLD_REMOVE_LAST_TAG_SPAN}]}}function _(){var e="(one\\-app\\-nav\\-bar\\-item\\-root\\["+C(t.NEW_NAV_BAR_LIST_SELECTOR)+"\\]\\/one\\-app\\-nav\\-bar\\-item\\-dropdown\\[1\\]\\/)",r=new RegExp(e);n||(n=[{originalXpath:t.OLD_NAV_BAR_APP_REGEX,convertedXpath:t.NEW_NAV_BAR_APP},{originalXpath:t.OLD_NAV_BAR_REGEX,convertedXpath:t.NEW_NAV_BAR},{originalXpath:t.OLD_NAV_BAR_ITEM_REGEX,convertedXpath:t.NEW_NAV_BAR_ITEM},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW_ICON},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_MENU_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_MENU},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ITEM},{originalXpath:r,convertedXpath:t.NEW_MORE_BUTTON},{originalXpath:t.OLD_APP_LAUNCHER_REGEX,convertedXpath:t.NEW_APP_LAUNCHER},{originalXpath:t.OLD_APP_NAME_REGEX,convertedXpath:t.NEW_APP_NAME}])}function E(e){var n;n=e.indexOf("nav[1]/ul[1]/li["+C(t.NEW_NAV_BAR_LIST_SELECTOR)+"]")>-1?"slds-button slds-button_reset slds-context-bar__label-action":"slds-button slds-button_reset",i=[{originalClass:t.OLD_ARROW_ICON_CLASSES_SVG,convertedClass:n},{originalClass:t.OLD_ARROW_ICON_CLASSES_A,convertedClass:n},{originalClass:t.OLD_APP_NAME_CLASSES,convertedClass:t.NEW_APP_NAME_CLASSES}],a||(a=[{originalClass:t.NEW_ARROW_ICON_CLASSES,convertedClass:t.OLD_ARROW_ICON_CLASSES_A},{originalClass:t.NEW_APP_NAME_CLASSES,convertedClass:t.OLD_APP_NAME_CLASSES}])}function C(e){var t=wmjQuery(e);if(t.length>0)return t[0].children.length;return 0}l()}r().register("NavBarConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":39}],16:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t=this;t.run=u;var n,i,o,a;function s(){n=r().get("PromiseManager"),i=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function u(){if(!l())return null;return i.on("StorageLoaded",function(){_walkMe.registerFindElementPlugin(e)}),null}function l(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}s()}r().register("SalesforceFindElementAdapter").asCtor(i).dependencies("FindElementAdapter")},{"wm-prelib-plugin-entry-manager":39}],17:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i={PLUGIN_NAME:"[SalesforceFindElementAdapter] ",NEW_NAV_BAR_APP_SELECTOR:'HEADER[id="oneHeader"] ONE-APPNAV',HEADER_SELECTOR:'HEADER[id="oneHeader"]',OLD_MAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] nav ul.slds-grid.slds-has-flexi-truncate',NEW_NAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] one-appnav one-app-nav-bar',HEADER_XPATH:/\/html\[1\]\/body\[1\]\/div\[[5-6]\]\/div\[1\]\/header\[1\]/,NAV_BAR_XPATH:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]/,NEW_NAV_BAR_XPATH:/one\-appnav/,OLD_NAV_BAR_APP_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[2\])/,NEW_NAV_BAR_APP:"one-appnav[1]/div[1]/div[2]",OLD_NAV_BAR_REGEX:/one\-appnav.+(nav\[1\]\/ul\[1\])/,NEW_NAV_BAR:"one-app-nav-bar[1]",OLD_NAV_BAR_ITEM_REGEX:/one\-app\-nav\-bar\[1\]\/(li)\[\d+\]/,NEW_NAV_BAR_ITEM:"one-app-nav-bar-item-root",OLD_NAV_BAR_DROPDOWN_REGEX:/one\-app\-nav\-bar\-item\-root\[\d+\]\/(div\[1\])/,NEW_NAV_BAR_DROPDOWN:"one-app-nav-bar-item-dropdown[1]/div[1]/one-tmp-button-menu[1]",OLD_NAV_BAR_DROPDOWN_ARROW_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[1\]\/div\[1\]\/div\[1\]\/a\[1\])/,NEW_NAV_BAR_DROPDOWN_ARROW:"button[1]",OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX:/button\[1\](.*)/,NEW_NAV_BAR_DROPDOWN_ARROW_ICON:"",OLD_NAV_BAR_DROPDOWN_MENU_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[2\]\/div\[1\]\/ul\[1\])/,NEW_NAV_BAR_DROPDOWN_MENU:"div[1]",OLD_NAV_BAR_DROPDOWN_ITEM_REGEX:/one\-tmp\-button\-menu\[1\]\/div\[1\]\/(li)/,NEW_NAV_BAR_DROPDOWN_ITEM:"one-tmp-menu-item",NEW_MORE_BUTTON:"",OLD_APP_LAUNCHER_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/nav\[1\])/,NEW_APP_LAUNCHER:"one-appnav[1]/div[1]/div[1]/div[1]/nav[1]/one-app-launcher-header[1]",OLD_APP_NAME_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/div\[1\])/,NEW_APP_NAME:"one-appnav[1]/div[1]/div[1]/div[1]/div[1]",NEW_NAV_BAR_APP_REGEX:/(one\-appnav\[1\]\/)/,OLD_NAV_BAR_APP:"",NEW_NAV_BAR_REGEX:/(one\-app\-nav\-bar\[1\])/,OLD_NAV_BAR:"nav[1]/ul[1]",NEW_NAV_BAR_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-root)/,OLD_NAV_BAR_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ARROW_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,OLD_NAV_BAR_DROPDOWN_ARROW:"div[1]/div[1]/div[1]/a[1]",NEW_MORE_BUTTON_MENU_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\])/,NEW_MORE_BUTTON_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,NEW_MORE_BUTTON_MENU_ITEM_REGEX:/li\[\d+\]\/div\[1\]\/div\[2\]\/div\[1\]\/ul\[1\]\/(one\-tmp\-menu\-item)/,OLD_MORE_BUTTON_MENU_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\]\/one\-tmp\-menu\-item)/,OLD_NAV_BAR_DROPDOWN_ITEM:"div[1]/div[2]/div[1]/ul[1]/li",NEW_LAST_TAG_SPAN_REGEX:/(span\[\d*\])$/,OLD_REMOVE_LAST_TAG_SPAN:"",NEW_APP_LAUNCHER_REGEX:/(one\-app\-launcher\-header\[1\]\/)/,OLD_APP_LAUNCHER:"",OLD_ARROW_ICON_CLASSES_SVG:"slds-icon--xx-small slds-icon",OLD_ARROW_ICON_CLASSES_A:"slds-button slds-button--icon",NEW_ARROW_ICON_CLASSES:"slds-button slds-button_reset",OLD_APP_NAME_CLASSES:"slds-button slds-truncate uiButton",NEW_APP_NAME_CLASSES:"slds-button slds-truncate"};r().register("sfAdapterConsts").asInstance(i)},{"wm-prelib-plugin-entry-manager":39}],18:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t;function n(){t=r().get("PrelibLogger")}this.isNewVersion=function(){var e=aura.get("$Label.SFXReleaseNotes.CurrentReleaseName");if("Summer '17"==e)return!0;return!1},this.writeToLog=function(n,r){t.write(e.PLUGIN_NAME+n+r)},n()}r().register("SfAdapterUtils").asCtor(i).dependencies("sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":39}],19:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.salesforceIframeRemoverPlugin=n}(this,function(t){var n=t(),r=(n.ctx,n.di,function(){function t(){this._counter=0,this._logger=n.ctx.get("PrelibLogger"),this._logzSender=e("wm-logzio-sender")(n.ctx)}return t.prototype.run=function(){return this.removeWMFrame(),null},t.prototype.removeWMFrame=function(){var e=this,t=wmjQuery("#WM_EXT_IFRAME, iframe[title*='WM_EXT_IFRAME'], a[title*='WM_EXT_IFRAME'], .sidebarModule:has(img[alt=WalkMe_Call_To_Action])");if(t.length>0)return this._counter>0&&this._logzSender.sendLog("WM_EXT_IFRAME removed on the: "+this._counter+" try"),t.remove();if(this._counter<15){this._counter++;var n=this._counter<10?100:300;return setTimeout(function(){return e.removeWMFrame()},n)}this._logzSender.sendLog("WM_EXT_IFRAME not found, cant remove"),this._logger.write("error: could not remove iframe from salesforce")},t}());n.plugin(new r)})},{"wm-logzio-sender":5}],20:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./sfLightningInitUserContext.js").SfLightningInitUserContext;t(new n)})},{"./sfLightningInitUserContext.js":21,"wm-prelib-plugin-entry-manager":39}],21:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(){var e=this;e.run=u;var t,n,i,o,a=[];function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),i=r().get("EventsTrigger"),o=r().get("PrelibLogger")}function u(){var e=null;return window._walkmeInternals.sfLightningInitUserContext=!0,f()&&!window.UserContext&&(r().decorate("LibInitializer",function(e){return e.originalStartInitializer=e.startInitializer,e.startInitializer=function(){try{d()}catch(t){}e.originalStartInitializer.apply(e,arguments)},e}),e=c().then(function(e){l(e)})["catch"](function(e){if(e instanceof Error&&e.extraData)p(e.message,e.extraData);else{var t="UserContext plugin internal error: "+e,n={sfUCCode:"Plugin.InternalError",sfUCError:""+e};p(t,n)}})),e}function l(e,t){try{var n="while(1);",r=e.indexOf(n);r>=0&&r<8?e=e.substr(r+n.length):p("UserContextServlet response does not start with while(1)",{sfUCCode:"UserContextServlet.NoSecurityPrefix",sfUCServletResponse:e}),window.UserContext=JSON.parse(e),window.UserContext.initializeFromServlet=function(){},p("UserContext OK",{sfUCCode:"OK"})}catch(i){var o=new Error("Failed to parse UserContextServlet response");throw o.extraData={sfUCCode:"UserContextServlet.ParseResponseFailed",sfUCServletResponse:e},o}}function c(){return o.write("UserContext: none found in Lightning - requesting UserContextServlet..."),r().create("Promise",function(e,t){wmjQuery.ajax({type:"GET",url:"/_ui/system/context/UserContextServlet",dataType:"text",success:e,error:function(e){var n=new Error("Request to UserContextServlet failed.");n.extraData={sfUCCode:"UserContextServlet.RequestFailed",sfUCServletResponse:e.status},t(n)}})})}function f(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}function p(e,t){a.push({message:e,extraData:t}),o.write(e)}function d(){for(var e=r().get("EventSenderErrorLogger"),t=g(),n=t.UserGuids&&t.UserGuids[0],i=0;i<a.length;i++){var o=a[i];o.extraData?o.extraData.uId=n:o.extraData={uId:n},e.logError(o.message,o.extraData)}}function g(){return m("wmSnippet")||m("wmPlaySnippet")||m("wmPreviewSnippet")}function m(e){if(window[e]&&window[e].getSettingsFile)return window[e].getSettingsFile()}s()}n.SfLightningInitUserContext=i},{"wm-prelib-plugin-entry-manager":39}],22:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t){var n,i=this;function o(){n=e.wrapCustomerLog(r)}i.getType=function(){return"BasicSfVarsRetriever"},i.getUserData=function(){var e={},r=wmjQuery.Deferred();return window.UserContext&&window.UserContext.userId&&window.UserContext.userName&&window.UserContext.language?(e.userId=t.to18CharId(window.UserContext.userId),e.userName=window.UserContext.userName,e.userLanguage=window.UserContext.language,r.resolve(e),n("Gets basic SfVar with basicSfVars feature",1)):r.reject('Can not get sfVars from "basicSfVars" feature'),r.promise()},o.apply(null,arguments)}n.BasicSfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":39}],23:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i,o;function a(){i=e.wrapCustomerLog(r),o=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n=window.location.hostname,r=o.Custom.sfVarsCommunityBaseUrl,a=o.Custom.sfVarsCommunityBaseUrlDictionary;return r?(t="https://"+r+e,i("buildRequestUrl - with custom community base url "+t,1)):a&&a[n]?(t="https://"+a[n]+e,i("buildRequestUrl - with custom community base url dictionary "+t,1)):window.UserContext&&window.UserContext.siteUrlPrefix?(t="https://"+n+window.UserContext.siteUrlPrefix+e,i("buildRequestUrl - with regular community url plus siteUrlPrefix "+t,1)):(t="https://"+n+e,i("buildRequestUrl - with regular community url "+t,1)),i("Community sfVars endpoint - "+t,1),t},a.apply(null,arguments)}n.CommunitySfVarsUrlBuilder=i},{"wm-prelib-plugin-entry-manager":39}],24:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a,s=this;s.getType=function(){return"LegacySfVarsRetriever"},s.getUserData=function(e){return a=wmjQuery.Deferred(),t.injectSFConnection(function(){u(e)},function(){a.reject()}),a.promise()};function u(t){var n,i,s,u=null;try{var f=r().get("SalesForceConnection");n=f.getSforce().connection.getUserInfo()}catch(d){o(d,5),u=d.message||d}try{i=p(e.get()),s=l(n.userId,i),s=s&&s[0]||[]}catch(d){o(d,5),u||(u=d.message||d)}try{var g=c(n,t,s,i||[]);a.resolve(g)}catch(d){o(d,5),u||(u=d.message||d),a.reject(u)}}function l(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",i=r().get("SalesForceConnection"),o=i.getSforce().connection.query(n);return o.getArray("records")}}function c(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)f(r[o],n,i);return i}function f(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function p(e){var t=e.Settings.sfCustomVars;return t||[]}function d(){o=n.wrapCustomerLog(i)}d.apply(null,arguments)}n.LegacySfVarsRetriever=o},{"wm-prelib-plugin-entry-manager":39}],25:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o){var a,s;function u(){a=e.wrapCustomerLog(r),s=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n,r=window.location.hostname,i=s.Custom.sfVarsLightningBaseUrl,o=s.Custom.sfVarsLightningBaseUrlDictionary;return window.UserContext&&window.UserContext.vfDomainPattern&&(a("buildRequestUrl - window.UserContext.vfDomainPattern = ",window.UserContext.vfDomainPattern),n=window.UserContext.vfDomainPattern.replace("(?:[^.]+)*","wm4sf3").replace("(?:[^.]+)","wm4sf3")),i?(t="https://"+i+e,a("buildRequestUrl - with custom lightning base url "+t,1)):o&&o[r]?(t="https://"+o[r]+e,a("buildRequestUrl - with custom lightning base url dictionary "+t,1)):n&&(t="https://"+n+e,a("buildRequestUrl - base vfDomainPattern, the url is "+t,1)),a("Lightning sfVars endpoint - "+t,1),t},u.apply(null,arguments)}n.LightningSfVarsUrlBuilder=i},{"wm-prelib-plugin-entry-manager":39}],26:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./sfVars.js").SfVars;t(new n)})},{"./sfVars.js":33,"wm-prelib-plugin-entry-manager":39}],27:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a){var s,u,l,c,f,p=this,d={},g=!1,m=14400,h=1e4,v=500,y="walkme-sf-vars-last-fail",w="walkme-sf-vars-iframe",_={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"};function E(){u=e.wrapCustomerLog(r)}p.getType=function(){return"NonLegacySfVarsRetriever"},p.getUserData=function(e){return s=wmjQuery.Deferred(),C()?s.reject(_.SKIP_AFTER_FAILURE):(e=a.extractUserContextVars(e,d),e=a.mapLegacyToNonLegacyVars(e),e.length?S(e.join(",")):s.reject(_.VARS_LIST_EMPTY)),s.promise()};function C(){var e=i.getData(y);return!!e}function S(e){var n=o.getCurrentSfEnvironment();"legacy"==n&&(n="lightning");var r=o.getAppEndpointByEnvironment(n),i=o.getUrlBuilderByEnvironment(n),a=r+"?sfVars="+e,c=i.buildRequestUrl(a);c?(u("SfVars endpoint - "+c),A(),l=t.createIframe(c,w,!1,b,R)):(T(),s.reject(_.FAIL_FIND_SALESFORCE_NAME))}function b(){u("sfVars Non-Legacy iframe loaded",3),c&&c.clear&&c.clear();var e=x(_.IFRAME_LOADED_TIMEOUT);f=n.libSetTimeout(e,v)}function A(){u("Finished creating iframe",3);var e=x(_.IFRAME_CREATED_TIMEOUT);c=n.libSetTimeout(e,h)}function R(e){if(g)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void u("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;t.removeIframeListeners(l,"message",R),g=!0,f&&f.clear&&f.clear(),n=a.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,d,n),s.resolve(d)}function T(){N()||i.saveData(y,(new Date).getTime(),m)}function N(){return"pending"!==s.state()}function x(e){return function(){t.removeIframeListeners(l,"message",R),T(),s.reject(e)}}E.apply(null,arguments)}n.NonLegacySfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":39}],28:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=n.wrapCustomerLog(r),s=!1,u="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof u.siteUrlPrefix||!u.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(u.siteUrlPrefix))return e;return u.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",u=0;do e=this.input.charCodeAt(u++),t=this.input.charCodeAt(u++),a=this.input.charCodeAt(u++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(u<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],u="",l="",c=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),l=this.keyStr.indexOf(e.charAt(c++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,u=(3&o)<<6|l,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=l&&s.push(String.fromCharCode(u)),t=n=u="",r=i=o=l="";while(c<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getTimezoneOffset(),l=u<0?"+":"-";u=Math.abs(u);var c=u/60,f=u%60;s<=9&&(s="0"+s);var p=t.getMilliseconds();0!==p&&(p="."+p,p.length>4&&(p=p.substring(0,4)),s+=p);var d;return 0===u?d="Z":(f<10&&(f="0"+f),c<10&&(c="0"+c),d=l+c+":"+f),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+d},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),u=e.substring(17,19),l=new Date(n,r-1,i,a,s,u),c=19;if(c<e.length&&"."==e.charAt(c)){for(var f=0,p=++c;c<e.length&&o.internal.isDigit(e.charAt(c));)c++;var d=e.substring(p,c);3==d.length?f=d:d.length<3?f=(d+"000").substring(0,3):(f=d.substring(0,3),d.charAt(3)>="5"&&++f),l.setMilliseconds(f)}var g=6e4*l.getTimezoneOffset();if(c+5<e.length&&("+"==e.charAt(c)||"-"==e.charAt(c))){if(!(o.internal.isDigit(e.charAt(c+1))&&o.internal.isDigit(e.charAt(c+2))&&":"==e.charAt(c+3)&&o.internal.isDigit(e.charAt(c+4))&&o.internal.isDigit(e.charAt(c+5))))throw"Unable to parse dateTime";var m=10*(e.charAt(c+1)-"0")+e.charAt(c+2)-"0",h=10*(e.charAt(c+4)-"0")+e.charAt(c+5)-"0",v=60*(60*m+h)*1e3;"+"==e.charAt(c)&&(v=-v),l=new Date(l.getTime()-g+v),c+=6}if(c<e.length&&"Z"==e.charAt(c)&&(c++,l=new Date(l.getTime()-g)),c<e.length)throw"Unable to parse dateTime";return l},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?u.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),
this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,u=s.indexOf(":");s=u==-1?s:s.substring(u+1);for(var l,c=!0,f="",p=a.firstChild;null!==p;p=p.nextSibling){if(3!=p.nodeType){c=!1;break}f+=p.nodeValue}if(c?l="true"==a.getAttribute("xsi:nil")?null:f:(l=new o.Xml,r.push({node:a,obj:l})),i.obj[s])if(i.obj[s].push)i.obj[s].push(l);else{var d=i.obj[s];"Id"===s&&d===l||(i.obj[s]=[],i.obj[s].push(d),i.obj[s].push(l))}else i.obj[s]=l}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,u=0;u<s.length;u++){if(1!=s[u].nodeType)continue;n.isNameValueNode(s[u])?a.push(n.getTextValue(s[u])):a.push(n.toXmlObject(s[u]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var l=new o.XmlReader(e),c=(l.getEnvelope(),l.getBody()),f=l.getFirstElement(c),p=l.toXmlObject(f);this.sendFault(p)}else this.sendFault(e)}catch(d){this.sendFault(d)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?u.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n)},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?u.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,u){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var l=new o.XmlWriter;l.startEnvelope(),this.writeHeader(l,s),l.startBody(),l.writeStartElement(e);for(var c=0;c<i.length;c++)l.writeNamespace(i[c].ns,i[c].prefix);for(var c=0;c<t.length;c++){var f=t[c];if("undefined"==typeof f.value)throw"arg "+c+" '"+f.name+"' not specified";if(null!==f.value){if(f.isArray&&!f.value.push)throw"arg "+c+" '"+f.name+"' is an array. But passed in value is not an array";if(!f.isArray&&f.value.push)throw"arg "+c+" '"+f.name+"' is not an array. But passed in value is an array"}if(null===f.value)this.writeOne(l,f.name,null,u);else if(f.value.push)for(var p=0;p<f.value.length;p++){var d=f.value[p];if(!d)throw"Array element at "+p+" is null.";this.writeOne(l,f.name,d,u)}else this.writeOne(l,f.name,f.value,u)}l.writeEndElement(e),l.endBody(),l.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(l.toString()));var g=new o.SoapTransport;return g.send(a,l,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(u.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?u.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function l(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function c(){var n;if(n=l()?e.getCookie("sid"):i.__sfdcSessionId,!n)return void a("there is no session id in this page.");if(t.isFeatureEnabled("sfCommunity"))o.connection.sessionId=n;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(n,r)}s=!0}c.apply(null,arguments)}n.SalesForceConnection=i},{"wm-prelib-plugin-entry-manager":39}],29:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n){var i=this;i.injectSFConnection=function(e,t){var n=r().get("SalesForceConnection"),i=n.getSforce();i?e&&e(i):t()}}n.SalesForceConnectionUtils=i},{"wm-prelib-plugin-entry-manager":39}],30:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a,s,u,l,c){var f,p,d=".oneHomeCardListDesktop",g="sfVarsBlacklist",m="#WM_EXT_IFRAME {display:none !important}",h="walkme-extention-tile-hide",v=200,y=this,w=s.wrapCustomerLog(r),_=!1;function E(){A()}y.init=function(e){f=P(),f&&!C()?(w("Start to extract sfVars",2),N(e)):e&&e()};function C(){var e=S();if(e instanceof Array)for(var t=0;t<e.length;t++)if(location.href.indexOf(e[t])>-1)return!0}function S(){return _walkMe.getSiteConfig().Custom[g]}function b(){return"lightning"==a.getCurrentSfEnvironment()}function A(){if(!window.WalkMe_Extension)return;var e=window.location.href;e.indexOf("lightning.force")>-1&&(p=0,T())}y.removeIFrame=function(){i.isFeatureEnabled("keepSFFrame")||(b()?R():wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove())};function R(){c.injectCss(m,h)}function T(){if(p<v){var e=wmjQuery('li:has(div:contains("WalkMe"))',d);0==e.length?(p++,u.libSetTimeout(T,300)):(e.remove(),_=!0,w("walkme SF action bar removed due to exsiting extension",2))}}function N(e){if(x()){w("Find window.UserContext",2);var n=o.getSfVarsRetriever(f);if(!n)return void a.handleNoSfVars("Can't get any right sfRetriever",e,{errType:"sfVarsFailure"});w("Got the right sfRetriever",2),t.extractSalesForceVars(e,n)}else a.handleNoSfVars("There is no UserContext on the page",e,{errType:"sfVarsFailure"})}y.search=function(e,t){n.search(e,t)};function x(){var e=a.getCurrentSfEnvironment();if(!e)return!1;var t="lightning"==e;if(t)return O();return L()}function L(){return!(!window.UserContext||"undefined"==typeof window.UserContext.userId)}function O(){var e=l.get().Custom.sfVarsLightningBaseUrl;if(e)return!0;return L()&&window.UserContext.vfDomainPattern}function P(){if(i.isFeatureEnabled(a.BASIC_SF_VARS_FEATURE)&&!i.isFeatureEnabled(a.GENERAL_SF_VARS_FEATURE))return a.BASIC_SF_VARS_FEATURE;return a.GENERAL_SF_VARS_FEATURE}E.apply(null)}n.SalesForceManager=i},{"wm-prelib-plugin-entry-manager":39}],31:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i,o=this,a="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",s="";o.search=function(e,t){n.injectSFConnection(function(n){u(n,e,t)},function(){t(s)})};function u(e,n,r){var o=s;try{var u=t.get().Settings.sfSearch||a;o=e.getSforce().connection.search("find {"+n+"*} RETURNING "+u)}catch(l){i("unknown error getting search results: "+l.message)}r(o)}function l(){i=e.wrapCustomerLog(r)}l.apply(null,arguments)}n.SalesForceSearcher=i},{"wm-prelib-plugin-entry-manager":39}],32:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a,s,u){var l,c,f=this,p="wm-sf-users-data_"+s.get(),d="wm-sf-lst-usr",g=31536e5,m=864e5,h=86400,v=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];f.extractSalesForceVars=function(n,r){c=n;try{var i=y("wm-expirationCookie");i&&(m=parseInt(i));var o=w(),a=C();S(a,o,r).then(function(e){A(e.userData,e.isPrev),e.isPrev||u.logEvent("OK",{retrieverType:r.getType()})}).fail(function(e){t.handleNoSfVars("Failed getting user data. Message: "+e,c,{errType:"sfVarsFailure"}),u.logEvent("FAIL",{errorMsg:e,retrieverType:r.getType()})})}catch(s){e.error(s,"unknown error getting walkmeSfVars: "+s.message,{errType:"sfVarsFailure"}),u.logEvent("FAIL",{errorMsg:s.message||s,retrieverType:r.getType()})}c&&c()};function y(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function w(){if(window.UserContext&&window.UserContext.userId){var e=t.to18CharId(window.UserContext.userId);if(_(e),e)return e}var n=E();if(n)return n;l("No UserContext on window. Can't get userId")}function _(e){e&&n.saveData(d,e,h)}function E(){return n.getData(d)}function C(){var e=n.getData(p);if(e)return i.secureEvalJSON(e)}function S(e,t,n){var r=wmjQuery.Deferred(),i=e&&e[t];return!i||b(i)?n.getUserData(v).then(function(e){l("Get sfVars from server"),r.resolve({userData:e,isPrev:!1})}).fail(function(e){i?(l("reuse sfVars that already expired"),r.resolve({userData:i,isPrev:!0})):(l("no sfVars"),r.reject(e))}):(l("sfVars is already exist"),r.resolve({userData:i,isPrev:!0})),r.promise()}function b(e){if(e.lastModified){var t=(new Date).getTime();if(t-m<e.lastModified)return!1}return!0}function A(t,n){t?(n||R(w(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,o.raiseEvent(a.EVENTS.SalesForceVarsExposed),l("sales force var were exposed",5)):l("no user data for user: "+w(),5);try{c&&c()}catch(r){e.error(r,"error during callback in extract sf vars: exposeData")}}function R(e,t){if(!e)return;var r=C();r||(r={}),r[e]=t,r[e].lastModified=(new Date).getTime();var o=i.toJSON(r);o&&n.saveData(p,o,g)}function T(){l=e.wrapCustomerLog(r)}T.apply(null,arguments)}n.SalesForceVarsExtractor=i},{"wm-prelib-plugin-entry-manager":39}],33:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("wm-sf-lightning-init-user-context");e("./sfVarsEventLogger.js"),e("./salesForceManager.js"),e("./sfVarsUtils.js"),e("./salesForceVarsExtractor.js"),e("./salesForceSearcher.js"),e("./salesForceConnectionUtils.js"),e("./salesForceConnection.js"),e("./sfVarsRetrieverFactory.js"),e("./legacySfVarsRetriever.js"),e("./nonLegacySfVarsRetriever.js"),e("./basicSfVarsRetriever.js"),e("./communitySfVarsUrlBuilder.js"),e("./lightningSfVarsUrlBuilder.js"),e("./sfVarsMapper.js"),e("./sfVarsFeatureLoader.js");function o(){var e=this;e.run=u;var t,n,o,a;function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function u(){a.write("sf-vars plugin was deployed."),n.on("BeforeStorageLoadedCallback",function(){var e=r().get("SfVarsEventLogger");if(r().has("sfVarsRemovedFromLib")){a.write("sf-vars plugin detected Lib 152+ - initializing");var t=r().get("SfVarsFeatureLoader");return t.load(),r().create("Promise",function(t,n){try{r().get("SalesForceManager").init(function(){t()})}catch(i){t(),e.logEvent("FAIL",{errorMsg:i.message||i})}})}a.write("sf-vars plugin did not detect Lib 152+ - do nothing"),e.logEvent("OFF")});var e=i(window,r());return e}s()}n.SfVars=o},{"./basicSfVarsRetriever.js":22,"./communitySfVarsUrlBuilder.js":23,"./legacySfVarsRetriever.js":24,"./lightningSfVarsUrlBuilder.js":25,"./nonLegacySfVarsRetriever.js":27,"./salesForceConnection.js":28,"./salesForceConnectionUtils.js":29,"./salesForceManager.js":30,"./salesForceSearcher.js":31,"./salesForceVarsExtractor.js":32,"./sfVarsEventLogger.js":34,"./sfVarsFeatureLoader.js":35,"./sfVarsMapper.js":36,"./sfVarsRetrieverFactory.js":37,"./sfVarsUtils.js":38,"wm-prelib-plugin-entry-manager":39,"wm-sf-lightning-init-user-context":47}],34:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;r().register("SfVarsEventLogger").asCtor(i).dependencies("PrelibLogger, EventSenderErrorLogger");function i(e,t){var n=this;n.logEvent=function(n,r){e.write("sfVars plugin event: "+n);var o=i();r||(r={plugin:null,uId:null,sfVarsResult:null}),r.plugin="sf-vars",r.sfVarsResult=n,o&&(r.uId=o),t.logError(n,r)};function i(){var e=o();return e&&e.UserGuids&&e.UserGuids[0]}function o(){return a("wmSnippet")||a("wmPlaySnippet")||a("wmPreviewSnippet")}function a(e){var t=r().get("win");if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}}},{"wm-prelib-plugin-entry-manager":39}],35:[function(e,t,n){var r=e("./salesForceManager.js").SalesForceManager,i=e("./sfVarsUtils.js").SfVarsUtils,o=e("./salesForceVarsExtractor.js").SalesForceVarsExtractor,a=e("./salesForceSearcher.js").SalesForceSearcher,s=e("./salesForceConnectionUtils.js").SalesForceConnectionUtils,u=e("./salesForceConnection.js").SalesForceConnection,l=e("./sfVarsRetrieverFactory.js").SfVarsRetrieverFactory,c=e("./legacySfVarsRetriever.js").LegacySfVarsRetriever,f=e("./nonLegacySfVarsRetriever.js").NonLegacySfVarsRetriever,p=e("./basicSfVarsRetriever.js").BasicSfVarsRetriever,d=e("./communitySfVarsUrlBuilder.js").CommunitySfVarsUrlBuilder,g=e("./lightningSfVarsUrlBuilder.js").LightningSfVarsUrlBuilder,m=e("./sfVarsMapper.js").SfVarsMapper,h=e("wm-prelib-plugin-entry-manager").getCtx;h().register("SfVarsFeatureLoader").asCtor(v);function v(){this.load=function(){h().register("BasicSfVarsRetriever").asCtor(p).dependencies("Logger, SfVarsUtils"),h().register("CommunitySfVarsUrlBuilder").asCtor(d).dependencies("Logger, CommonUtils, SiteConfigManager"),h().register("LegacySfVarsRetriever").asCtor(c).dependencies("SiteConfigManager, SalesForceConnectionUtils, Logger"),h().register("LightningSfVarsUrlBuilder").asCtor(g).dependencies("Logger, CommonUtils, SiteConfigManager, SfVarsUtils, FeaturesManager"),h().register("NonLegacySfVarsRetriever").asCtor(f).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper"),h().register("SalesForceConnection").asCtor(u).dependencies("CookiesManager, FeaturesManager, Logger"),h().register("SalesForceConnectionUtils").asCtor(s).dependencies("Logger, CookiesManager, FeaturesManager"),
h().register("SalesForceManager").asCtor(r).dependencies("CommonUtils, SalesForceVarsExtractor,SalesForceSearcher,FeaturesManager,SfVarsRetrieverFactory,SfVarsUtils,Logger,TimerManager,SiteConfigManager,ResourceManager"),h().register("SalesForceSearcher").asCtor(a).dependencies("Logger,SiteConfigManager,SalesForceConnectionUtils"),h().register("SalesForceVarsExtractor").asCtor(o).dependencies("Logger, SfVarsUtils, ClientStorageManager, CommonUtils, CommonEvents, Consts, AuditSourceManager, SfVarsEventLogger"),h().register("SfVarsMapper").asCtor(m).dependencies("CommonUtils, SiteConfigManager"),h().register("SfVarsRetrieverFactory").asCtor(l).dependencies("Logger, SfVarsUtils, LegacySfVarsRetriever, NonLegacySfVarsRetriever, BasicSfVarsRetriever"),h().register("SfVarsUtils").asCtor(i).dependencies("LibDestroyer, Logger, TimerManager")}}n.SfVarsFeatureLoader=v},{"./basicSfVarsRetriever.js":22,"./communitySfVarsUrlBuilder.js":23,"./legacySfVarsRetriever.js":24,"./lightningSfVarsUrlBuilder.js":25,"./nonLegacySfVarsRetriever.js":27,"./salesForceConnection.js":28,"./salesForceConnectionUtils.js":29,"./salesForceManager.js":30,"./salesForceSearcher.js":31,"./salesForceVarsExtractor.js":32,"./sfVarsMapper.js":36,"./sfVarsRetrieverFactory.js":37,"./sfVarsUtils.js":38,"wm-prelib-plugin-entry-manager":39}],36:[function(e,t,n){e("wm-prelib-plugin-entry-manager").getCtx;function r(e,t){var n={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&""!==i&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToNonLegacyVars=function(e){var r=[];wmjQuery.each(e,function(e,t){var i=n[t];i&&r.push(i)});var i=t.get().Settings.sfCustomVars;return i&&i.length&&(r=r.concat(i)),r},this.mapNonLegacyDataToLegacy=function(e){var r={};wmjQuery.each(e,function(t,i){var o=wmjQuery.grep(Object.keys(n),function(e){return n[e]===t});o&&o[0]&&(r[o[0]]=e[n[o[0]]])});var i=t.get().Settings.sfCustomVars;return i&&i.length&&wmjQuery.each(i,function(t,n){r[n]=e[n]}),r}}n.SfVarsMapper=r},{"wm-prelib-plugin-entry-manager":39}],37:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n,o,a){var s=this,u=e.wrapCustomerLog(i);s.getSfVarsRetriever=function(e){var n=r().get("SiteConfigManager").get().Custom.sfVars;if(n&&n.UseProxy)return u("Use NonLegacySfVarsRetriever configured"),r().get("NonLegacySfVarsRetriever");if(n&&n.UseRestApi)return u("Use LegacySfVarsRetriever configured"),r().get("LegacySfVarsRetriever");if(u("No specific sfVars retriever configured - use default"),e==t.GENERAL_SF_VARS_FEATURE){var i=t.getCurrentSfEnvironment();return l(i)}if(e==t.BASIC_SF_VARS_FEATURE)return u("Retrieving sf vars with basicSfVars",1),a};function l(e){switch(e){case"legacy":return u("Retrieving sf vars with LegacySfVarsRetriever",1),n;case"lightning":case"community":return u("Retrieving sf vars with NonLegacySfVarsRetriever",1),o}}}n.SfVarsRetrieverFactory=o},{"wm-prelib-plugin-entry-manager":39}],38:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a=this,s=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},community:{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});a.GENERAL_SF_VARS_FEATURE="sfVars",a.BASIC_SF_VARS_FEATURE="basicSfVars";function u(){}function l(){if(c())return"legacy";if(f())return"lightning";if(p())return"community"}a.getCurrentSfEnvironment=function(){if(o)return o;return o=l()},a.getAppEndpointByEnvironment=function(e){return s[e]&&s[e].appEndpoint},a.getUrlBuilderByEnvironment=function(e){var t=s[e]&&s[e].ctxUrlBuilderName;return r().get(t)},a.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t},a.handleNoSfVars=function(r,i,o){var a=d(),s=a?"sfVars failed to load (optional) - ":"sfVars failed to load (walkme removed) - ";t.error(void 0,s+r,o),a?i&&i():n.libSetTimeout(function(){e.removeWalkMe(r)},500)};function c(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!f()}function f(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}function p(){return!c()&&!f()&&window.UserContext}function d(){return!0}u.apply(null,arguments)}n.SfVarsUtils=o},{"wm-prelib-plugin-entry-manager":39}],39:[function(e,t,n){"use strict";var r,i={createPluginEntry:o,getCtx:a};function o(e){return function(t){r=t(),e(s)}}function a(){return r.ctx}function s(e){r.plugin(e)}n.__esModule=!0,n["default"]=i,n.createPluginEntry=i.createPluginEntry,n.getCtx=i.getCtx},{}],40:[function(e,t,n){"use strict";var r=e("./jQuery"),i=e("./ctx"),o=e("./scrollToElement"),a=e("./viewport"),s=function(){function e(){var e=this;window.addEventListener("message",function(t){if(!i.getCtx().has("CommonUtils"))return;var n=i.getCtx().get("CommonUtils").secureEvalJSON(t.data);"wm_scroll_request"in n?e.handleScrollRequest(n,t):"wm_is_in_viewport"in n&&e.handleIsInViewport(n,t)})}return e.prototype.isElementInViewport=function(e){return i.getCtx().create("Promise",function(t,n){var r=Math.random(),o=function(e){if(!i.getCtx().has("CommonUtils"))return;var n=i.getCtx().get("CommonUtils").secureEvalJSON(e.data);"wm_is_in_viewport_response"in n&&n.requestId==r&&(window.removeEventListener("message",o),t(n.response))};window.addEventListener("message",o),window.parent.postMessage(i.getCtx().get("CommonUtils").toJSON({wm_is_in_viewport:!0,elementPosition:{top:e.offset().top,height:e.height()},requestId:r}),"*")})},e.prototype.sendScrollRequest=function(e){window.parent.postMessage(i.getCtx().get("CommonUtils").toJSON({wm_scroll_request:!0,pixelsToScroll:e}),"*")},e.prototype.isInCrossOriginFrame=function(){try{window.parent.document;return!1}catch(e){return!0}},e.prototype.handleScrollRequest=function(e,t){var n=this.findFrameByWindow(t.source);if(0==n.length)return;var r={distance:-e.pixelsToScroll,unit:"px",isAnimate:!0};o["default"](n,null,null,r)},e.prototype.handleIsInViewport=function(e,t){var n=this.findFrameByWindow(t.source);if(0==n.length)return;var r=a.getElementAbsolutePosition(n),o=a.containsRect({top:r+e.elementPosition.top,height:e.elementPosition.height});t.source.postMessage(i.getCtx().get("CommonUtils").toJSON({wm_is_in_viewport_response:!0,response:o,requestId:e.requestId}),"*")},e.prototype.findFrameByWindow=function(e){return r.getjQuery()("iframe").filter(function(t,n){return n.contentWindow===e})},e}();n.crossOrigin=new s},{"./ctx":41,"./jQuery":43,"./scrollToElement":45,"./viewport":46}],41:[function(e,t,n){"use strict";var r=null;function i(e){r=e}n.setCtx=i;function o(){return r}n.getCtx=o},{}],42:[function(e,t,n){"use strict";var r=e("./jQuery");function i(e){var t=e[0].ownerDocument;return t.defaultView||t.parentWindow}function o(e){return 0==e.parents().andSelf().filter(function(e,t){return"none"==r.getjQuery()(t).css("display")}).length}function a(e){try{return i(e).frameElement}catch(t){return null}}function s(e,t){var n=e.css("visibility"),r=e.css("display");e.css("visibility","visibile"),e.css("display","");var i=t();return e.css("visibility",n),e.css("display",r),i}function u(e){if(["HTML","BODY"].indexOf(e.prop("tagName"))>-1)return{top:0};return s(e,function(){return e[0].getBoundingClientRect()})}function l(e,t){var n=u(e),r=u(t);return n.top-r.top+t.scrollTop()}n.__esModule=!0,n["default"]={getWindowOfElement:i,isElementDisplayed:o,getParentFrame:a,getRelativeOffset:l}},{"./jQuery":43}],43:[function(e,t,n){"use strict";var r=window.$;function i(e){r=e}n.setjQuery=i;function o(){return r}n.getjQuery=o},{}],44:[function(e,t,n){"use strict";var r=e("./viewport"),i=e("./scrollToElement"),o=e("./jQuery"),a=e("./ctx"),s=e("./domManipulations");n.__esModule=!0,n["default"]={viewport:r,scrollToElement:i["default"],domManipulations:s["default"],setjQuery:o.setjQuery,setCtx:a.setCtx}},{"./ctx":41,"./domManipulations":42,"./jQuery":43,"./scrollToElement":45,"./viewport":46}],45:[function(e,t,n){"use strict";var r,i=e("./jQuery"),o=e("./domManipulations"),a=e("./crossOriginScroll"),s=e("./ctx"),u=e("wm-shared-consts");function l(){var e=s.getCtx().get("SiteConfigManager").get().Custom;if(e.scrollSettings)return e.scrollSettings.elementMargin}function c(){if(!r){var e=l()||100;r={distance:e,unit:"px",isAnimate:!0,scrollSpeed:"slow"}}return r}function f(e){if(!o["default"].isElementDisplayed(e))return null;var t=e.closest(":scrollable(y)");if(t.length>0)return t;var n=o["default"].getParentFrame(e);return n?f(i.getjQuery()(n)):i.getjQuery()("body")}function p(e,t,n){return"HTML"===e.prop("tagName")&&d(e.find("body"),t,n),d(e,t,n)}function d(e,t,n){return s.getCtx().create("Promise",function(r){n.isAnimate?e.animate({scrollTop:t},n.scrollSpeed,r):(e.scrollTop(t),r())})}function g(e,t,n,r,i){var a=o["default"].getRelativeOffset(e,r);return n===u.drawablePosition.Top&&t&&(a-=t.height()),Math.max(a-m(i),0)}function m(e){var t={px:function(){return e.distance},"%":function(){return i.getjQuery()("body").height()*e.distance/100}};return t[e.unit]()}function h(e,t,n,r){return s.getCtx().create("Promise",function(o){if(a.crossOrigin.isInCrossOriginFrame()){var s=g(e,t,n,i.getjQuery()("body"),r);a.crossOrigin.sendScrollRequest(s)}o()})}function v(e,t,n,r){var o=i.getjQuery().extend({},c(),r,{isAnimate:r.isAnimate!==!1}),a=f(e);if(a){var s=g(e,t,n,a,o);return p(a,s,o).then(function(){return h(e,t,n,o)})}return h(e,t,n,o)}n.__esModule=!0,n["default"]=v},{"./crossOriginScroll":40,"./ctx":41,"./domManipulations":42,"./jQuery":43,"wm-shared-consts":58}],46:[function(e,t,n){"use strict";var r,i=e("./jQuery"),o=e("./ctx"),a=e("./domManipulations"),s=e("./crossOriginScroll");function u(){if(!r){var e=o.getCtx().get("SiteConfigManager").get().Custom;e.scrollSettings&&(r=e.scrollSettings.fixedElementOnTop||"")}return r}function l(e){e=i.getjQuery()(e);var t=e.offset().top-c(e),n=null;try{n=a["default"].getWindowOfElement(e).frameElement}catch(r){}return n?t+l(n):t}n.getElementAbsolutePosition=l;function c(e){var t=0,n=e.parents(":scrollable(both)");return n.each(function(e,n){t+=n.scrollTop}),t}function f(e,t){var n=l(e),r=p({top:n,height:e.height()});if(!t)return r;return o.getCtx().create("Promise",function(t){t(r&&s.crossOrigin.isInCrossOriginFrame()?s.crossOrigin.isElementInViewport(e):r)})}function p(e){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=document.body.scrollTop;t+=n;var r=u(),i=wmjQuery(r).height()||0,o=e.top>=n+i,a=e.top+e.height<=t;return o&&a}function d(e){return p(e)}n.containsRect=d;function g(e,t){void 0===t&&(t=!1);var n=e.css("visibility");if("hidden"!=n)return f(e,t);e.css("visibility","visible");var r=f(e,t);return e.css("visibility",n),r}n.containsElement=g},{"./crossOriginScroll":40,"./ctx":41,"./domManipulations":42,"./jQuery":43}],47:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.sfLightningInitContext=n}(this,function(e,t){if(e._walkmeInternals&&e._walkmeInternals.sfLightningInitUserContext)return e._walkmeInternals.sfLightningInitUserContext.result;var n=(t.get("PromiseManager"),t.get("EventsListener"),t.get("EventsTrigger"),t.get("PrelibLogger")),r=[];function i(){var n=null;return s()&&!e.UserContext&&(t.decorate("LibInitializer",function(e){return e.originalStartInitializer=e.startInitializer,e.startInitializer=function(){try{l()}catch(t){}e.originalStartInitializer.apply(e,arguments)},e}),n=a().then(function(e){o(e)})["catch"](function(e){if(e instanceof Error&&e.extraData)u(e.message,e.extraData);else{var t="UserContext plugin internal error: "+e,n={sfUCCode:"Plugin.InternalError",sfUCError:""+e};u(t,n)}})),e._walkmeInternals&&(e._walkmeInternals.sfLightningInitUserContext={result:n}),n}function o(t,n){try{var r="while(1);",i=t.indexOf(r);i>=0&&i<8?t=t.substr(i+r.length):u("UserContextServlet response does not start with while(1)",{sfUCCode:"UserContextServlet.NoSecurityPrefix",sfUCServletResponse:t}),e.UserContext=JSON.parse(t),e.UserContext.initializeFromServlet=function(){},u("UserContext OK",{sfUCCode:"OK"})}catch(o){var a=new Error("Failed to parse UserContextServlet response");throw a.extraData={sfUCCode:"UserContextServlet.ParseResponseFailed",sfUCServletResponse:t},a}}function a(){return n.write("UserContext: none found in Lightning - requesting UserContextServlet..."),t.create("Promise",function(e,t){wmjQuery.ajax({type:"GET",url:"/_ui/system/context/UserContextServlet",dataType:"text",success:e,error:function(e){var n=new Error("Request to UserContextServlet failed.");n.extraData={sfUCCode:"UserContextServlet.RequestFailed",sfUCServletResponse:e.status},t(n)}})})}function s(){var t=new RegExp("/one/one\\.app.*");return t.test(e.location.pathname)}function u(e,t){r.push({message:e,extraData:t}),n.write(e)}function l(){for(var e=t.get("EventSenderErrorLogger"),n=c(),i=n&&n.UserGuids&&n.UserGuids[0],o=0;o<r.length;o++){var a=r[o];a.extraData?a.extraData.uId=i:a.extraData={uId:i},e.logError(a.message,a.extraData)}}function c(){return f("wmSnippet")||f("wmPlaySnippet")||f("wmPreviewSnippet")}function f(t){if(e[t]&&e[t].getSettingsFile)return e[t].getSettingsFile()}return i()})},{}],48:[function(e,t,n){t.exports=r;function r(){var e={TYPES:{BAD_INPUT:-2,NO_INPUT:-1,TRUE:0,FALSE:1,CANNOT_ASSERT:2,CONTEXT_ERROR:3,CANT_INTERACT:4},TOOLTIPS:{"true-indicator":"The statement is true for the current user and page settings","false-indicator":"The statement is not true for the current user and page settings","not-defined-indicator":"Waiting. Complete the condition to evaluate the status","cannot-assert-indicator":"The validity of this statement can only be assessed when played","cannot-assert-context-error-indicator":"The validity of this statement cannot be determined because the related Switch Step cannot be played in current page","cannot-interact-error-indicator":"The validity of this statement cannot be determined because we can't interact with this page"},INDICATOR_CLASSES:{}},t=e.INDICATOR_CLASSES;return t[e.TYPES.NO_INPUT]="no-input",t[e.TYPES.BAD_INPUT]="bad-input",t[e.TYPES.TRUE]="true",t[e.TYPES.FALSE]="false",t[e.TYPES.CANNOT_ASSERT]="cannot-assert",t[e.TYPES.CONTEXT_ERROR]="cannot-assert-context-error",t[e.TYPES.CANT_INTERACT]="cannot-interact-error",e}},{}],49:[function(e,t,n){function r(){return{Article:0,Video:1}}t.exports=r},{}],50:[function(e,t,n){function r(){return{Label:0,Category:1,Collection:2,Tag:3,Course:4,Lesson:5}}t.exports=r},{}],51:[function(e,t,n){function r(){return{Shared:0,Copied:1,Specific:2}}t.exports=r},{}],52:[function(e,t,n){function r(){return{Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8}}t.exports=r},{}],53:[function(e,t,n){function r(){return{step:0,launcher:1,conditionBuilder:2,smartTip:3,balloon:4,balloonTrigger:5,flowNode:6,flowLink:7,smartTipUiComponent:8,conditionNode:9,trackedElementsSet:10,businessSolution:11,trackedElement:12,onScreenElement:13,shoutout:17}}t.exports=r},{}],54:[function(e,t,n){function r(){return{UI:0,Action:1}}t.exports=r},{}],55:[function(e,t,n){function r(){return{Regular:0,Blurred:1,None:2}}t.exports=r},{}],56:[function(e,t,n){function r(){return{Animated:0,Normal:1,None:2}}t.exports=r},{}],57:[function(e,t,n){function r(){return{NoAction:-1,WalkMe:0,Google:1,Bing:2,Desk:3,Zendesk:4,Custom:5,SalesForce:6,Parature:7}}t.exports=r},{}],58:[function(e,t,n){var r=new(e("./conditionBuilderPreview.js")),i=new(e("./drawablePosition.js")),o=new(e("./stepTrigger.js")),a=new(e("./stepType.js")),s=new(e("./entityType.js")),u=new(e("./surveyQuestionType.js")),l=new(e("./contentType.js")),c=new(e("./designTemplateType.js")),f=new(e("./smarttipMode.js")),p=new(e("./stickinessType.js")),d=new(e("./flowNodeType.js")),g=new(e("./searchProvider.js")),m=new(e("./screenshotMode.js")),h=new(e("./scrollType.js")),v=new(e("./deployableGroupType.js")),y=new(e("./teachMeCompletionType.js")),w=new(e("./teachMeQuestionType.js"));t.exports={conditionBuilderPreview:r,drawablePosition:i,stepTrigger:o,stepType:a,ENTITY_TYPE:s,surveyQuestionType:u,contentType:l,POPUP_BUTTON_ACTIONS:{NextDone:0,Start:1,Back:2,Cancel:3},designTemplateType:c,designTemplateCssClassPrefix:"wm-design-template-",smarttipMode:f,stickinessType:p,flowNodeType:d,searchProvider:g,screenshotMode:m,scrollType:h,deployableGroupType:v,teachMeCompletionType:y,teachMeQuestionType:w}},{"./conditionBuilderPreview.js":48,"./contentType.js":49,"./deployableGroupType.js":50,"./designTemplateType.js":51,"./drawablePosition.js":52,"./entityType.js":53,"./flowNodeType.js":54,"./screenshotMode.js":55,"./scrollType.js":56,"./searchProvider.js":57,"./smarttipMode.js":59,"./stepTrigger.js":60,"./stepType.js":61,"./stickinessType.js":62,"./surveyQuestionType.js":63,"./teachMeCompletionType.js":64,"./teachMeQuestionType.js":65}],59:[function(e,t,n){function r(){return{Info:0,Validation:1,InfoAndValidation:2}}t.exports=r},{}],60:[function(e,t,n){function r(){return{Nothing:0,Button:1,Click:2,Hover:3,PageChanged:4,Text:5,Delay:6,SelectAny:7,SelectValue:8,Swipe:9,PeerStep:10,Custom:11,BbCode:12}}t.exports=r},{}],61:[function(e,t,n){function r(){return{Simple:0,Popup:1,Action:2}}t.exports=r},{}],62:[function(e,t,n){function r(){return{soft:0,strong:1}}t.exports=r},{}],63:[function(e,t,n){function r(){return{FreeText:0,RadioButtons:1,CheckBoxes:2,PersonalDetails:3}}t.exports=r},{}],64:[function(e,t,n){function r(){return{byComplete:0,byGoal:1}}t.exports=r},{}],65:[function(e,t,n){function r(){return{SingleSelection:0,MultipleSelection:1}}t.exports=r},{}]},{},[4]);