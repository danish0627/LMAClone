[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a1x1F0000005dFUQAY"},"Id":"a1x1F0000005dFUQAY","Name":"Event_Edition_Product_List","skuid__Type__c":"Desktop","skuid__UniqueId__c":"Shopping Cart_Event_Edition_Product_List","skuid__Module__c":"Shopping Cart","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage personalizationmode=\"server\" showsidebar=\"false\" useviewportmeta=\"true\" showheader=\"false\"><models><model id=\"EventEdition\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Event_Edition__c\"><fields><field id=\"Name\"/><field id=\"Id\"/><field id=\"Event_Price_Book__c\"/><field id=\"Event_Price_Book__r.Name\"/></fields><conditions><condition type=\"param\" value=\"Id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\"/></conditions><actions/></model><model id=\"EventProduct\" query=\"true\" createrowifnonefound=\"false\" datasource=\"Ui-Only\" processonclient=\"true\"><fields><field id=\"ProductID\" displaytype=\"TEXT\" label=\"Product ID\"/><field id=\"ProductName\" displaytype=\"TEXT\" label=\"Product Name\" defaultvaluetype=\"fieldvalue\"/><field id=\"CommunityVisibility\" displaytype=\"BOOLEAN\" label=\"Community Visibility\" ogdisplaytype=\"TEXT\" defaultvaluetype=\"fieldvalue\"/><field id=\"NonInformaProduct\" displaytype=\"BOOLEAN\" label=\"Non Informa Product\" ogdisplaytype=\"TEXT\" defaultvaluetype=\"fieldvalue\"/><field id=\"Price\" displaytype=\"TEXT\" label=\"Price\"/><field id=\"Quantity\" displaytype=\"TEXT\" label=\"Quantity\" defaultvaluetype=\"fieldvalue\"/><field id=\"AddToCartVisibility\" displaytype=\"BOOLEAN\" label=\"Add To Cart Visibility\" defaultvaluetype=\"fieldvalue\" ogdisplaytype=\"TEXT\"/><field id=\"ProductFamily\" displaytype=\"TEXT\" label=\"Product Family\"/><field id=\"EventProductType\" displaytype=\"TEXT\" label=\"Event Product Type\"/><field id=\"SoldOut\" displaytype=\"BOOLEAN\" label=\"Sold Out\" ogdisplaytype=\"TEXT\" picklistsource=\"manual\"/><field id=\"ProductOwner\" displaytype=\"PICKLIST\" label=\"Product Owner\" ogdisplaytype=\"TEXT\" picklistsource=\"manual\" defaultvaluetype=\"fieldvalue\"><picklistentries><entry value=\"Informa\" label=\"Informa\"/><entry value=\"Non Informa\" label=\"Non Informa\"/></picklistentries></field></fields><conditions/><actions/></model><model id=\"RelatedProduct\" query=\"true\" createrowifnonefound=\"false\" datasource=\"Ui-Only\" processonclient=\"true\"><fields><field id=\"ProductName\" displaytype=\"TEXT\" label=\"ProductName\"/><field id=\"Price\" displaytype=\"TEXT\" label=\"Price\"/><field id=\"ProductID\" displaytype=\"TEXT\" label=\"ProductID\"/><field id=\"Quantity\" displaytype=\"TEXT\" label=\"Quantity\"/><field id=\"Required\" displaytype=\"BOOLEAN\" label=\"Required\" ogdisplaytype=\"TEXT\"/><field id=\"Feature\" displaytype=\"TEXT\" label=\"Feature\"/><field id=\"ProductFamily\" displaytype=\"TEXT\" label=\"Product Family\"/></fields><conditions/><actions/></model><model id=\"RelatedProductOptional\" query=\"true\" createrowifnonefound=\"true\" datasource=\"Ui-Only\" processonclient=\"true\"><fields><field id=\"ProductName\" displaytype=\"TEXT\" label=\"Product Name\"/><field id=\"ProductID\" displaytype=\"TEXT\" label=\"ProductID\"/><field id=\"Quantity\" displaytype=\"TEXT\" label=\"Quantity\"/><field id=\"Required\" displaytype=\"BOOLEAN\" label=\"Required\" ogdisplaytype=\"TEXT\"/><field id=\"Feature\" displaytype=\"TEXT\" label=\"Feature\"/><field id=\"ProductFamily\" displaytype=\"TEXT\" label=\"Product Family\"/><field id=\"Price\" displaytype=\"TEXT\" label=\"Price\"/></fields><conditions/><actions/></model><model id=\"Pricebook\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Pricebook2\"><fields><field id=\"Name\"/><field id=\"Id\"/></fields><conditions><condition type=\"fieldvalue\" value=\"true\" field=\"IsActive\" operator=\"=\" mergefield=\"Event_Price_Book__r.Name\" novaluebehavior=\"deactivate\" state=\"\" inactive=\"false\" enclosevalueinquotes=\"false\"/></conditions><actions/></model><model id=\"PriceBookUI\" query=\"true\" createrowifnonefound=\"false\" datasource=\"Ui-Only\" processonclient=\"true\"><fields><field id=\"PriceBookId\" displaytype=\"TEXT\" label=\"PriceBookId\"/><field id=\"Name\" displaytype=\"TEXT\" label=\"Name\"/></fields><conditions/><actions/></model><model id=\"EventSetting\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"Event_Settings__c\"><fields><field id=\"Event_Edition__c\"/><field id=\"Event_Edition__r.Name\"/><field id=\"Product_List_Intro_Paragraph__c\"/><field id=\"Disable_Shopping_Cart__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Event_Edition__c\" operator=\"=\" model=\"EventEdition\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions><action><actions><action type=\"toggleRenderComponent\" behavior=\"hide\" componentid=\"sk-YcAwr-188\"/><action type=\"toggleRenderComponent\" behavior=\"show\" componentid=\"sk-YcAwr-188\"/></actions><events><event>models.saved</event><event>models.loaded</event><event>models.cancelled</event></events></action></actions></model></models><components><pagetitle uniqueid=\"sk-10a8RW-151\" model=\"EventEdition\"><maintitle><template>{{Name}}</template></maintitle><subtitle><template>{{Model.label}}</template></subtitle><actions/></pagetitle><buttonset model=\"EventEdition\" uniqueid=\"sk-sVawk-351\" position=\"left\" cssclass=\"BradComBorder\"><buttons><button type=\"redirect\" label=\"{{$Label.Customer_Center}}\" cssclass=\"bradcom\" window=\"self\" uniqueid=\"sk-2TVkf1-84\" url=\"/one/one.app#/alohaRedirect/apex/Event_Assigned_To_You&#13;&#10;\"/><button type=\"redirect\" label=\"{{$Label.Customer_Center_Settings_Button}}\" icon=\"\" window=\"self\" cssclass=\"bradcom\" uniqueid=\"sk-2TVkfA-86\" url=\"/one/one.app#/alohaRedirect/apex/c__Redirect_CC_Settings_Page?id={{Id}} &#13;&#10;\"/><button type=\"multi\" label=\"{{$Label.Product_Catalogue}}\" cssclass=\"bradcom\" uniqueid=\"sk-2TVkfQ-88\"><actions/><hotkeys/><renderconditions logictype=\"and\"/><enableconditions/></button></buttons><renderconditions logictype=\"and\"/></buttonset><tabset rememberlastusertab=\"true\" defertabrendering=\"true\" uniqueid=\"sk-YcAwr-188\"><tabs><tab name=\"{{$Label.Settings}}\" loadlazypanels=\"true\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"true\" showerrorsinline=\"true\" model=\"EventSetting\" uniqueid=\"sk-YdPt1-322\" mode=\"edit\"><columns><column width=\"100%\"><sections><section title=\"Section A\" collapsible=\"no\" showheader=\"false\"><fields><field uniqueid=\"sk-2svi0n-211\" id=\"Product_List_Intro_Paragraph__c\" type=\"CUSTOM\" snippet=\"ckTextArea\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field uniqueid=\"sk-16_eu7-228\" id=\"Disable_Shopping_Cart__c\" showhelp=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\"/></renderconditions><enableconditions/></field></fields></section></sections></column></columns></basicfieldeditor></components></tab><tab name=\"{{$Label.Product_Catalogue}}\"><components><buttonset model=\"EventProduct\" uniqueid=\"sk-yiAOM-236\" position=\"\" cssclass=\"scroller\"><buttons><button type=\"multi\" label=\"{{$Label.Save}}\" icon=\"sk-icon-save\" uniqueid=\"sk-2TVkg5-93\"><actions><action type=\"blockUI\" message=\"Saving Changes\" timeout=\"1500\"/><action type=\"save\"><models><model>EventProduct</model></models></action><action type=\"custom\" snippet=\"updateCommunityVisibilitySnippet\"/><action type=\"custom\" snippet=\"updateAddToProductVisibilitySnippet\"/><action type=\"custom\" snippet=\"updateSoldOutSnippet\"/></actions><hotkeys/></button><button type=\"multi\" label=\"Cancel\" icon=\"sk-icon-cancel\" uniqueid=\"sk-2TVkgL-95\"><actions><action type=\"cancel\"><models><model>EventProduct</model></models></action></actions></button></buttons><renderconditions logictype=\"and\"/></buttonset><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"EventProduct\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"true\" uniqueid=\"sk-wYUbS-690\" emptysearchbehavior=\"query\" allowscrollbars=\"false\" tablescrollheight=\"650px\" floatheader=\"true\" instantfilters=\"false\"><fields><field id=\"ProductName\" hideable=\"true\" uniqueid=\"fi-wYWzI-710\" valuehalign=\"\" type=\"\" readonly=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\" logic=\"\"/><enableconditions/><label>{{$Label.Product_Name}}</label></field><field id=\"CommunityVisibility\" hideable=\"true\" uniqueid=\"fi-yhU6P-175\" type=\"\" valuehalign=\"\" readonly=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/><label>{{$Label.Community_Visibility}}</label></field><field id=\"SoldOut\" hideable=\"true\" uniqueid=\"fi-1xHhzJ-1074\" type=\"\" valuehalign=\"\" readonly=\"true\"><label>{{$Label.Sold_Out}}</label></field><field id=\"AddToCartVisibility\" hideable=\"true\" uniqueid=\"fi-2RBOSj-186\" type=\"\" valuehalign=\"\" readonly=\"true\"/></fields><rowactions><action type=\"multi\" label=\"{{$Label.View_Record_Details}}\" icon=\"sk-icon-popup\"><actions><action type=\"requeryModels\" model=\"RelatedProduct\" behavior=\"standard\"><models><model>RelatedProduct</model><model>RelatedProductOptional</model></models></action><action type=\"custom\" snippet=\"RelatedProductList\"/><action type=\"showPopup\"><popup title=\"\" width=\"90%\"><components><pagetitle model=\"EventProduct\" uniqueid=\"sk-1ZKaJu-2296\"><maintitle>Product Detail</maintitle><actions><action type=\"multi\" label=\"Save\" icon=\"sk-icon-save\" uniqueid=\"sk-2-TQbe-231\"><actions><action type=\"blockUI\" message=\"Saving\" timeout=\"1500\"/><action type=\"save\"><models><model>EventProduct</model></models><onerroractions><action type=\"blockUI\" message=\"There was an error\" timeout=\"3000\"/></onerroractions></action><action type=\"custom\" snippet=\"updateCommunityVisibilitySnippet\"/><action type=\"custom\" snippet=\"updateAddToProductVisibilitySnippet\"/><action type=\"custom\" snippet=\"updateSoldOutSnippet\"/></actions></action><action type=\"multi\" label=\"Cancel\" icon=\"sk-icon-cancel\" uniqueid=\"sk-2-TQbf-233\"><actions><action type=\"cancel\"><models><model>EventProduct</model></models></action></actions></action></actions></pagetitle><wrapper uniqueid=\"sk-1ZKnY3-2322\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"EventProduct\" buttonposition=\"\" uniqueid=\"sk-1Xlx34-750\" mode=\"edit\" layout=\"\"><columns layoutmode=\"fixed\"><column width=\"100%\"><sections><section title=\"Product Detail\" collapsible=\"no\" showheader=\"false\"><fields><field id=\"ProductName\" valuehalign=\"\" type=\"\" uniqueid=\"fi-1Xpe1b-1063\" readonly=\"true\"/><field id=\"ProductFamily\" valuehalign=\"\" type=\"\" uniqueid=\"fi-1x4AuS-170\" readonly=\"true\"/><field id=\"EventProductType\" valuehalign=\"\" type=\"\" uniqueid=\"fi-1x4AuS-171\" readonly=\"true\"/><field id=\"Price\" uniqueid=\"fi-1Xpe1b-1066\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"CommunityVisibility\" uniqueid=\"fi-1Xpe1b-1065\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"SoldOut\" valuehalign=\"\" type=\"\" uniqueid=\"fi-1xTlYg-201\" readonly=\"true\"/></fields></section></sections></column></columns><conditions><condition type=\"contextrow\" field=\"Id\" mergefield=\"Id\"/></conditions></basicfieldeditor></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" borders=\"left,\"><styles><styleitem property=\"border-left\" value=\"25px solid transparent\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper><pagetitle model=\"EventProduct\" uniqueid=\"sk-1ZJa7B-2217\"><maintitle>Related Product</maintitle><actions/></pagetitle><wrapper uniqueid=\"sk-1ZKsAq-2354\"><components><tabset rememberlastusertab=\"true\" defertabrendering=\"true\" uniqueid=\"sk-1wF3fZ-219\" renderas=\"\"><tabs><tab name=\"Compulsory\" loadlazypanels=\"true\"><components><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"RelatedProduct\" buttonposition=\"\" mode=\"edit\" allowcolumnreordering=\"true\" uniqueid=\"sk-1wFLzq-261\" emptysearchbehavior=\"query\"><fields><field id=\"ProductName\" hideable=\"true\" uniqueid=\"fi-1wFOtS-279\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"ProductFamily\" hideable=\"true\" uniqueid=\"fi-1wtESX-1025\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Feature\" hideable=\"true\" uniqueid=\"fi-1wtESX-1026\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Price\" hideable=\"true\" uniqueid=\"fi-1wFOtS-280\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Quantity\" hideable=\"true\" uniqueid=\"fi-1wFOtT-281\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Required\" hideable=\"true\" uniqueid=\"fi-1wtvzw-1195\" type=\"\" valuehalign=\"\" readonly=\"true\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><renderconditions logictype=\"and\"/><conditions/><searchfields/></skootable></components><oninitialshowactions/><onshowactions/></tab><tab name=\"Optional\"><components><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"client\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"RelatedProductOptional\" buttonposition=\"\" mode=\"edit\" allowcolumnreordering=\"true\" uniqueid=\"sk-1JdRYI-622\" emptysearchbehavior=\"query\"><fields><field id=\"ProductName\" hideable=\"true\" uniqueid=\"fi-1xEZQk-916\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"ProductFamily\" hideable=\"true\" uniqueid=\"fi-1xEZQl-917\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Feature\" hideable=\"true\" uniqueid=\"fi-1xEZQl-918\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Price\" hideable=\"true\" uniqueid=\"fi-1xEZQl-919\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Quantity\" hideable=\"true\" uniqueid=\"fi-1xEZQl-920\" valuehalign=\"\" type=\"\" readonly=\"true\"/><field id=\"Required\" hideable=\"true\" uniqueid=\"fi-1xEZQm-921\" type=\"\" valuehalign=\"\" readonly=\"true\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\" label=\"\"/></views><conditions/><renderconditions logictype=\"and\"/><searchfields/></skootable></components><oninitialshowactions/><onshowactions/></tab></tabs></tabset></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" borders=\"left,\"><styles><styleitem property=\"border-left\" value=\"25px solid transparent\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components><afterclose><action type=\"requeryModels\" behavior=\"standard\"><models><model>RelatedProduct</model></models></action></afterclose></popup></action></actions></action></rowactions><massactions usefirstitemasdefault=\"true\"/><views><view type=\"standard\"/></views><renderconditions logictype=\"and\"/><searchfields/><filters/></skootable></components></tab></tabs></tabset></components><resources><labels><label id=\"Customer_Center\"/><label id=\"Customer_Center_Settings_Button\"/><label id=\"Exhibitor_Catalogue\"/><label id=\"Save\"/><label id=\"Community_Visibility\"/><label id=\"Product_Name\"/><label id=\"Non_informa_Product\"/><label id=\"Allow_Ecommerce\"/><label id=\"Sold_Out\"/><label id=\"View_Record_Details\"/><label id=\"Product_Catalogue\"/><label id=\"Settings\"/></labels><javascript><jsitem location=\"external\" name=\"apexJS\" cachelocation=\"false\" url=\"/soap/ajax/36.0/apex.js\">var params = arguments[0],\n\t$ = skuid.$;\n</jsitem><jsitem location=\"external\" name=\"connectionJS\" cachelocation=\"false\" url=\"/soap/ajax/36.0/connection.js\">var params = arguments[0],\n\t$ = skuid.$;\n</jsitem><jsitem location=\"inlinesnippet\" name=\"ProductListSnippet_test\" cachelocation=\"false\">/*\n    ** Snippet to display product lists as per event edition\n*/\nvar params = arguments[0],\n\t$ = skuid.$;\n    var modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Name;\n        console.log(eID);\n        var result = sforce.apex.execute('EventBasedProductList','EventBasedProductList', { eventId:eID});\n        console.log(result);\n    \tvar proList = JSON.parse(result);\n    \tconsole.log(proList);\n    \t//var rowsToInsert = {};\n    \tvar modelB = skuid.model.getModel('EventProduct');// UI model\n    \t// Populating UI Model with data capture from salesforce for product\n    \tif(proList)\n        {\n            $.each(proList, function( index,value) {\n            var productList = modelB.createRow({ \n                    additionalConditions: [\n                        { field: 'ProductID', value: value.Id},\n                        { field: 'ProductName', value: value.Name},\n                        { field: 'CommunityVisibility', value: value.CommunityVisibility},\n                        { field: 'AddToCartVisibility', value: value.AddToCartVisibility},\n                        { field: 'SoldOut', value: value.SoldOut},\n                        { field: 'ProductOwner', value: value.ProductOwner},\n                    ],doAppend: true});\n               \n            } );\n            modelB.save();\n        }\n        modelB.save();\n\t</jsitem><jsitem location=\"inline\" name=\"ProductListSnippet\" cachelocation=\"false\" url=\"\">/*\n    ** PageLoad Snippet to display product lists as per event edition\n*/\n(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t //$(window).on('load',function(){\n    \tvar modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Name;\n        console.log(eID);\n        var result = sforce.apex.execute('EventBasedProductList','EventBasedProductList', { eventName:eID});\n        console.log(result);\n    \tvar proList = JSON.parse(result);\n    \tconsole.log(proList);\n    \t//var rowsToInsert = {};\n    \tvar modelB = skuid.model.getModel('EventProduct');// UI model\n    \t// Populating UI Model with data capture from salesforce for product\n    \tif(proList)\n        {\n            $.each(proList, function( index,value) {\n            var productList = modelB.createRow({ \n                    additionalConditions: [\n                        { field: 'ProductID', value: value.Id},\n                        { field: 'ProductName', value: value.Name},\n                        { field: 'CommunityVisibility', value: value.CommunityVisibility},\n                        { field: 'AddToCartVisibility', value: value.AddToCartVisibility},\n                        { field: 'SoldOut', value: value.SoldOut},\n                        { field: 'ProductOwner', value: value.ProductOwner},\n                    ],doAppend: true});\n               \n            } );\n            modelB.save();\n        }\n        modelB.save();\n\t});\n\t\n})(skuid);\n</jsitem><jsitem location=\"inline\" name=\"PriceBookList\" cachelocation=\"false\" url=\"\">/*\n    ** Snippet to capture Pirce book name and Id as per event edition\n*/\n(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t //$(window).on('load',function(){\n    \tvar modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Id;\n        console.log(eID);\n        var result = sforce.apex.execute('EventBasedPriceBook','EventBasedPriceBook', { eventId:eID});\n        console.log(result);\n    \tvar proList = JSON.parse(result);\n    \tconsole.log(proList);\n    \t//var rowsToInsert = {};\n    \tvar modelB = skuid.model.getModel('PriceBookUI');// UI Model\n    \t// Populating UI Model with data capture from salesforce \n    \tif(proList)\n        {\n            $.each(proList, function( index,value) {\n            var productList = modelB.createRow({ \n                    additionalConditions: [\n                        { field: 'PriceBookId', value: value.Id},\n                        { field: 'Name', value: value.Name},\n                    ],doAppend: true});\n               \n            } );\n            modelB.save();\n        }\n        modelB.save();\n\t});\n\t\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"updateCommunityVisibilitySnippet\" cachelocation=\"false\">/*\n    ** Snippet to update the community visibility\n*/\nvar params = arguments[0],\n\t$ = skuid.$;\n\tvar modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Name;\n\tvar modelB = skuid.model.getModel('EventProduct');\n\tvar ProductIdList=[];\n    // Adding List to the Array that will be passed to salesforce to update the \"community_visibility\" field in product object \n    for (var i=0;i&lt;modelB.data.length;i++)\n    {\n            ProductIdList.push(modelB.data[i].ProductID+modelB.data[i].CommunityVisibility);\n    }\n    \n    console.log(ProductIdList);\n    var JSONString = JSON.stringify(ProductIdList, null, 2);\n    console.log(JSONString );\n\tvar result = sforce.apex.execute('UpdateCommunityVisibility','UpdateCommunityVisibility', {ProductIdList:JSONString,eventId:eID});\n\tconsole.log(result);</jsitem><jsitem location=\"inlinesnippet\" name=\"RelatedProductList\" cachelocation=\"false\">/* \n    ** Snippet to capture all the related product for the products\n*/\nvar params = arguments[0],\n\t$ = skuid.$;\n    // Grabing the context ID\t\n\tcontextRow = params.item ? params.item.row : params.row,\n        contextModel = params.model;\n    \tvar rowId = contextModel.getFieldValue(contextRow, 'Id', true);\n\t// Grading the Product ID of the row\n    var model = arguments[0].EventProduct,\n        row = arguments[0].row;\n        var proId = arguments[0].item.row.ProductID;\n    var modelEP =skuid.model.getModel('EventProduct'); \n    //Getting the Pricebook Object Name\n    var modelE = skuid.model.getModel('PriceBookUI');\n        var rowE = modelE.getFirstRow();\n        var priceBookId = rowE.PriceBookId;\n        console.log(priceBookId);\n       /* var PricebookObjName= rowE.Name;\n        PricebookObjName=PricebookObjName.split(' ').join('_');\n        PricebookObjName+='__c';*/\n    \n    //console.log('PricebookObjName: '+PricebookObjName);\n    var modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Name;\n        console.log(eID);\n    // updateing the price of main product\n    var resultPrice = sforce.apex.execute('GetProductPriceOnOperationPortal','getMainProductPriceOnOperationPortal', {ProductId:proId, priceBookId:priceBookId,eventId:eID},function(resultPrice){\n        console.log(resultPrice);\n        var proMainList = JSON.parse(resultPrice);\n    \tconsole.log(proMainList);\n        var rowsToUpdate = {};\n        if(\"Main Product : \"+proMainList){\n        /*$.each( modelEP.getRows(), function(){\n            rowsToUpdate[rowId] = { Price: proMainList[0].mainPrice };\n        });*/\n            for(var i=0;i&lt;proMainList.length;++i)\n            { \n                    modelEP.updateRow(\n                        { Id: rowId},\n                        { Price:proMainList[i].mainPrice ,\n                         Quantity:proMainList[i].mainQuantity,\n                         EventProductType:proMainList[i].eventProductType,\n                         ProductFamily:proMainList[i].productFamily\n                        }\n                    );\n                    modelEP.save();\n            }\n        }\n       // modelEP.updateRows( rowsToUpdate );\n       // modelEP.save(); \n        \n    \n     });\n     \n    // captuiring the price Id, price, name of related product and populating the value in  'RelatedProduct' UI Model\n    var result = sforce.apex.execute('GetProductPriceOnOperationPortal','getProductPriceOnOperationPortal', {ProductId:proId, priceBookId:priceBookId,eventId:eID},function(result){\n        console.log(result);\n    \tvar proList = JSON.parse(result);\n    \tconsole.log(proList);\n    \t//var rowsToInsert = {};\n    \tvar modelB = skuid.model.getModel('RelatedProduct');\n    \tvar modelC = skuid.model.getModel('RelatedProductOptional');\n    \tif(proList)\n        {\n            $.each(proList, function( index,value) {\n                if (value.Required===true)\n                {\n                    var productList = modelB.createRow({ \n                            additionalConditions: [\n                                { field: 'ProductID', value: value.ProductID},\n                                { field: 'ProductName', value: value.ProductName},\n                                { field: 'Price', value: value.Price},\n                                { field: 'Quantity', value: value.Quantity},\n                                { field:'Required', value:value.Required},\n                                { field:'Feature', value:value.Feature},\n                                { field:'ProductFamily', value:value.ProductFamily},\n                                \n                            ],doAppend: true});\n                }\n                else if (value.Required===false)\n                {\n                    var productListNotRequired = modelC.createRow({ \n                            additionalConditions: [\n                                { field: 'ProductID', value: value.ProductID},\n                                { field: 'ProductName', value: value.ProductName},\n                                { field: 'Price', value: value.Price},\n                                { field: 'Quantity', value: value.Quantity},\n                                { field:'Required', value:value.Required},\n                                { field:'Feature', value:value.Feature},\n                                { field:'ProductFamily', value:value.ProductFamily},\n                                \n                            ],doAppend: true});\n                }\n                       \n                    } );\n            modelB.save();\n            modelC.save();\n        }\n        modelB.save();\n        modelC.save();\n    });</jsitem><jsitem location=\"inline\" name=\"StickyJSTest\" cachelocation=\"false\" url=\"\">/*(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t\t$(function() {\n\n    var $sidebar = $(\"#sk-yiAOM-236 .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only\"),\n        $window = $(window),\n        offset = $sidebar.offset(),\n        topPadding = 0;\n\n    $window.scroll(function() {\n        if ($window.scrollTop() &gt; offset.top) {\n            $sidebar.stop().animate({\n                top: $window.scrollTop() -offset.top + topPadding\n            });\n        } else {\n            $sidebar.stop().animate({\n                top: 0\n            });\n        }\n    });\n\n});\n\t});\n})(skuid);*/</jsitem><jsitem location=\"inlinesnippet\" name=\"updateAddToProductVisibilitySnippet\" cachelocation=\"false\">/*var params = arguments[0],\n\t$ = skuid.$;\n\tvar modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Name;\n\tvar modelB = skuid.model.getModel('EventProduct');\n\tvar ProductIdList=[];\n    // Adding List to the Array that will be passed to salesforce to update the \"AddToProduct_visibility\" field in product object \n    for (var i=0;i&lt;modelB.data.length;i++)\n    {\n            ProductIdList.push(modelB.data[i].ProductID+modelB.data[i].AddToCartVisibility);\n    }\n    \n    console.log(ProductIdList);\n    var JSONString = JSON.stringify(ProductIdList, null, 2);\n    console.log(JSONString );\n\tvar result = sforce.apex.execute('UpdateAddToCartVisibility','updateAddToCartVisibility', {ProductIdList:JSONString,eventId:eID});\n\tconsole.log(result);*/</jsitem><jsitem location=\"inline\" name=\"stickyJS\" cachelocation=\"false\" url=\"\">/*\n    ** Snippet for sticky header\n*/\n(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t\t$(function() {\n    var siteHeaderTop = $('#sk-yiAOM-236 .sk-button-action').offset().top;\n    var $window = $(window);\n\n    $window.scroll(function() {\n        var windowTop = $window.scrollTop();\n        $('#sk-yiAOM-236 .sk-button-action').toggleClass('fixed', windowTop &gt;= siteHeaderTop);\n\n        // Add class .scrolled on scroll to control show/hide of back-top button\n        //$('body').toggleClass('scrolled', windowTop &gt; 200);\n    });\n});\n\t});\n})(skuid);</jsitem><jsitem location=\"inlinesnippet\" name=\"updateSoldOutSnippet\" cachelocation=\"false\">/*\n    ** Snippet to update the community soldout filed\n*/\nvar params = arguments[0],\n\t$ = skuid.$;\n\tvar modelA = skuid.model.getModel('EventEdition');\n        var rowE = modelA.getFirstRow();\n        var eID= rowE.Name;\n\tvar modelB = skuid.model.getModel('EventProduct');\n\tvar ProductIdList=[];\n    // Adding List to the Array that will be passed to salesforce to update the \"community_visibility\" field in product object \n    for (var i=0;i&lt;modelB.data.length;i++)\n    {\n            ProductIdList.push(modelB.data[i].ProductID+modelB.data[i].SoldOut);\n    }\n    \n    console.log(ProductIdList);\n    var JSONString = JSON.stringify(ProductIdList, null, 2);\n    console.log(JSONString );\n\tvar result = sforce.apex.execute('UpdateSoldOutOnCommunity','UpdateSoldOutOnCommunity', {ProductIdList:JSONString,eventId:eID});\n\tconsole.log(result);</jsitem><jsitem location=\"inlinesnippet\" name=\"ckTextArea\" cachelocation=\"false\">SetupCKTextArea(\n\targuments[0] //Field\n\t, arguments[1] //Value\n);</jsitem><jsitem location=\"inline\" name=\"SetupCKTextArea\" cachelocation=\"false\" url=\"\">var $ = skuid.$;\n\nwindow.CKSettings = {\n    removePlugins: 'pagebreak,preview,print,save,selectall,showblocks,showborders,smiley,tab,clipboard,panelbutton,colorbutton,colordialog,templates,div,resize,elementspath,enterkey,entities,popup,filebrowser,find,flash,floatingspace,forms,htmlwriter,iframe,menubutton,language,magicline,newpage,pagebreak,selectall,subscript,superscript,showblocks,showborders,scayt,tab,tabletools,justify,bidi,font'\n    ,removeButtons: 'Subscript,Superscript,Underline'\n};\n\nfunction SetupCKTextArea(field, value) {\n    /* Create and grab DOM elements */        \n    skuid.ui.fieldRenderers.TEXTAREA.edit(field, value);\n    var uniqid = RandomID();\n    field.element.attr('id', uniqid);\n    setTimeout(function(){\n        var element = $(\"#\" + uniqid + \"&gt;div\");\n        element.html(element.text());\n        var instance = CKEDITOR.replace(element[0], window.CKSettings);\n        instance.on('change', function() {\n            var fieldRow = field.row\n                , fieldId = field.id\n                , fieldText = this.getData()\n                , fieldData = {};\n            fieldData[fieldId] = fieldText;\n            console.log(field);\n            field.model.updateRow(fieldRow, fieldData, {initiatorId : field._GUID});\n            \n        });\n    },500);\n}\nfunction RandomID() {\n    var S4 = function() {\n        return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\n    };\n    return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n</jsitem></javascript><css><cssitem location=\"inline\" name=\"BradComBorder\" cachelocation=\"false\">.BradComBorder {\n    border-top : 1px solid #ccc !important;\n    border-bottom : 1px solid #ccc !important;\n}\n\n.BradComBorder .sk-button-action{\n    margin-top : 0px !important;\n}</cssitem><cssitem location=\"inline\" name=\"MainCSS\" cachelocation=\"false\">#div.nx-basicfieldeditor-section-body&gt;div.nx-basicfieldeditor-item&gt;.nx-field, div.nx-basicfieldeditor-item&gt;.nx-field {\n    width: 70%;\n    /* margin: 0px; */\n}\n\n#FieldEditor{\n    font-weight:bold;\n    line-height:2.2em;\n    font-size:15px;\n}\n\n#FieldEditor.nx-field{\n margin-top:13px;   \n}\n\n#FieldEditor1{\n    font-weight:bold;\n    line-height:2.2em;\n    font-size:15px;\n}\n\n#FieldEditor1.nx-field{\n margin-top:13px;   \n}\n\n.nx-basicfieldeditor-item.MainCSS{\n margin-top:16px !important;   \n}\n.cke_chrome {\n    display: block;\n    padding: 0;\n    border: 1px solid #a1a1a1;\n    box-shadow: none;\n}</cssitem><cssitem location=\"inline\" name=\"bradcom\" cachelocation=\"false\">.bradcom {\n    margin: 0px !important;\n\nbackground-image: url(\"../resource/bredcom_arrow\") !important;\nbackground-repeat: no-repeat !important;\nbackground-position: right !important;\ncolor: #000 !important;\nborder : none !important;\npadding: 0px !important;\nbackground-color: transparent !important;\n}\n\n.bradcom:hover {\n    background-image: url(\"../resource/bredcom_arrow_hover\") !important;\n    background-repeat: no-repeat !important;\n    background-position: right !important;\n    background-color: transparent !important;\n}\n\n.bradcom span{\nline-height: 40px !important;\nwidth: auto !important;\nfont-weight: 400 !important;\n}</cssitem><cssitem location=\"inline\" name=\"StickyTest\" cachelocation=\"false\">#sk-yiAOM-236 .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only{\n    z-index:  100;\n}</cssitem><cssitem location=\"inline\" name=\"Sticky\" cachelocation=\"false\">.fixed{\n    position: fixed;\n    top: 1px;\n    z-index:  999;\n    right: 10px;\n}\n</cssitem><cssitem location=\"inline\" name=\"ThemeFix\" cachelocation=\"false\">.nx-basicfieldeditor-item-label{\n    padding: .5rem .5rem .5rem 0!important;\n}\n.nx-editor input[type=checkbox]{\n    margin-top: 0!important;\n}\n</cssitem></css><actionsequences/></resources><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]