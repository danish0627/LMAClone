[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a1x1F0000005dFTQAY"},"Id":"a1x1F0000005dFTQAY","Name":"DisplayProductsOnCommunity","skuid__Type__c":"Desktop","skuid__UniqueId__c":"Shopping Cart_DisplayProductsOnCommunity","skuid__Module__c":"Shopping Cart","skuid__Composer_Settings__c":null,"skuid__MasterPage__c":"a1x1F0000005dEZQAY","skuid__MasterPage__r":{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a1x1F0000005dEZQAY"},"Name":"InformaMainPage","skuid__UniqueId__c":"Customer Portal_InformaMainPage"},"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" useviewportmeta=\"true\" theme=\"Customer Center\"><models><model id=\"EventEditionloginUser\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Event_Edition__c\"><fields><field id=\"Name\"/><field id=\"Id\"/><field id=\"Event_Price_Book__c\"/><field id=\"Event_Price_Book__r.Name\"/><field id=\"Part_of_Series__c\"/><field id=\"Part_of_Series__r.Name\"/></fields><conditions><condition type=\"param\" value=\"eventCode\" field=\"Event_Code__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"\" state=\"\"/></conditions><actions/></model><model id=\"Product\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Product2\"><fields><field id=\"Name\" overridemetadata=\"true\" ogdisplaytype=\"STRING\" displaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\" defaultvaluetype=\"fieldvalue\"/><field id=\"Visible_On_Community__c\"/><field id=\"Id\"/><field id=\"Product_Brand__c\"/><field id=\"Event_Product_Type__c\"/><field id=\"Family\"/><field id=\"ProductName\" uionly=\"true\" displaytype=\"FORMULA\" label=\"Product Name\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\"><formula>{{Name}}</formula></field><field id=\"Brand__c\"/><field id=\"Price\" uionly=\"true\" displaytype=\"TEXT\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"2\" defaultvaluetype=\"fieldvalue\" label=\"Price\"/><field id=\"Add_To_Cart_Visibility__c\"/><field id=\"Sold_Out__c\"/><field id=\"Description\"/><field id=\"Product_Image_Link__c\"/><field id=\"Status__c\"/></fields><conditions><condition type=\"fieldvalue\" value=\"true\" enclosevalueinquotes=\"false\" field=\"Visible_On_Community__c\" operator=\"=\" state=\"\"/><condition type=\"multiple\" value=\"\" field=\"Event_Product_Type__c\" operator=\"not in\" enclosevalueinquotes=\"true\" state=\"\"><values><value>Booth</value></values></condition><condition type=\"modelmerge\" value=\"\" field=\"Product_Brand__c\" operator=\"=\" model=\"EventEditionloginUser\" enclosevalueinquotes=\"true\" mergefield=\"Name\" novaluebehavior=\"noquery\" state=\"\"/><condition type=\"fieldvalue\" field=\"Family\" operator=\"=\" inactive=\"true\" enclosevalueinquotes=\"true\" name=\"__autofilter__Family\" state=\"filterableoff\" value=\"\"/><condition type=\"fieldvalue\" field=\"Status__c\" operator=\"=\" inactive=\"true\" enclosevalueinquotes=\"true\" name=\"__autofilter__Status__c\" state=\"filterableoff\" value=\"\"/></conditions><actions/></model><model id=\"ProductOption\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"SBQQ__ProductOption__c\"><fields><field id=\"SBQQ__ConfiguredSKU__c\"/><field id=\"SBQQ__ConfiguredSKU__r.Name\"/><field id=\"SBQQ__OptionalSKU__c\"/><field id=\"SBQQ__OptionalSKU__r.Name\"/><field id=\"SBQQ__Feature__c\"/><field id=\"SBQQ__Feature__r.Name\"/><field id=\"SBQQ__Type__c\"/><field id=\"SBQQ__ProductFamily__c\"/><field id=\"SBQQ__Quantity__c\"/><field id=\"Price\" uionly=\"true\" displaytype=\"TEXT\" ogdisplaytype=\"TEXT\" precision=\"9\" scale=\"2\" label=\"Price\"/></fields><conditions/><actions/></model><model id=\"Pricebook\" limit=\"20\" query=\"false\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Pricebook2\"><fields><field id=\"Name\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Name\" operator=\"=\" model=\"EventEditionloginUser\" enclosevalueinquotes=\"true\" mergefield=\"Event_Price_Book__r.Name\" novaluebehavior=\"deactivate\"/></conditions><actions/></model><model id=\"RelatedProducts\" query=\"true\" createrowifnonefound=\"false\" datasource=\"Ui-Only\" processonclient=\"true\"><fields><field id=\"ProductID\" displaytype=\"TEXT\" label=\"ProductID\"/><field id=\"ProductName\" displaytype=\"TEXT\" label=\"Product Name\"/><field id=\"Price\" displaytype=\"TEXT\" label=\"Price\"/><field id=\"Feature\" displaytype=\"TEXT\" label=\"Feature\"/><field id=\"ProductFamily\" displaytype=\"TEXT\" label=\"Product Family\"/><field id=\"Type\" displaytype=\"TEXT\" label=\"Type\"/><field id=\"Quantity\" displaytype=\"TEXT\" label=\"Quantity\"/></fields><conditions/><actions/></model><model id=\"EventSet\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" type=\"\" sobject=\"Event_Settings__c\"><fields><field id=\"Product_List_Intro_Paragraph__c\"/><field id=\"E_Commerce_Title__c\"/></fields><conditions><condition type=\"modelmerge\" value=\"\" field=\"Event_Edition__c\" operator=\"=\" model=\"EventDetail\" enclosevalueinquotes=\"true\" mergefield=\"Id\" novaluebehavior=\"deactivate\"/></conditions><actions/></model></models><pageregioncontents><pageregioncontent regionid=\"sk-3xhas--746\" uniqueid=\"sk-10nLYQ-99\"><components><grid uniqueid=\"sk-2Ojhlk-356\"><divisions><division behavior=\"flex\" minwidth=\"80%\" ratio=\"1\" verticalalign=\"top\"><components/></division><division behavior=\"flex\" verticalalign=\"top\" minwidth=\"20%\" ratio=\"1\"><components><wrapper uniqueid=\"sk-2OjzN2-379\"><components/><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid><wrapper uniqueid=\"sk-10_9ag-763\"><components><template multiple=\"false\" uniqueid=\"sk-NYURe-517\" cssclass=\"breadcrumb-nav\" model=\"EventSet\"><contents>&lt;a href=\"/CustomerCenter/home?eventcode={{{$Model.EventDetail.data.0.Event_Code__c}}}\"&gt;Home&lt;/a&gt; &lt;i class=\"fa  fa-chevron-right\"&gt;&lt;/i&gt; {{E_Commerce_Title__c}}</contents></template><pagetitle uniqueid=\"sk-NYW2_-527\" model=\"EventSet\" cssclass=\"cc-page-title\"><maintitle>&lt;h1&gt;{{E_Commerce_Title__c}}&lt;/h1&gt;</maintitle><actions/><renderconditions logictype=\"and\"/></pagetitle><template multiple=\"false\" uniqueid=\"sk-YfJml-929\" model=\"EventSet\" allowhtml=\"true\"><contents>{{Product_List_Intro_Paragraph__c}}</contents></template></components><styles><styleitem type=\"background\" bgtype=\"none\"/><styleitem type=\"border\" padding=\"top,left,\"><styles><styleitem property=\"padding-left\" value=\"0px\"/><styleitem property=\"padding-top\" value=\"10px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper><wrapper uniqueid=\"sk-10-BqY-809\"><components><wrapper uniqueid=\"sk-YgfVB-984\"><components><grid uniqueid=\"sk-YggT_-994\"><divisions><division behavior=\"fit\" verticalalign=\"center\"><components><wrapper uniqueid=\"sk-Ygkof-1007\"><components><template multiple=\"false\" uniqueid=\"sk-Ygmkk-1015\"><contents>&lt;/a&gt; &lt;i class=\"fa  fa-filter\"&gt;&lt;/i&gt;&lt;strong&gt; Filter List By: &lt;/strong&gt;</contents></template></components><styles><styleitem type=\"background\"/><styleitem type=\"border\" padding=\"right,\"><styles><styleitem property=\"padding-right\" value=\"10px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components></division><division behavior=\"fit\" verticalalign=\"center\"><components><filterset model=\"Product\" searchmethod=\"server\" searchbox=\"false\" uniqueid=\"sk-Ygojp-1024\" emptysearchbehavior=\"query\" searchplaceholdertext=\"Search By Keyword\"><filters><filter type=\"select\" filteroffoptionlabel=\"Category\" createfilteroffoption=\"true\" affectcookies=\"true\" autocompthreshold=\"25\" conditionsource=\"auto\" labelmode=\"manual\" conditionfield=\"Family\"/><filter type=\"select\" filteroffoptionlabel=\"Status\" createfilteroffoption=\"true\" affectcookies=\"true\" autocompthreshold=\"25\" conditionsource=\"auto\" labelmode=\"manual\" conditionfield=\"Status__c\"/></filters><searchfields usesosl=\"false\" soslfields=\"Name Fields\"><searchfield return=\"false\" field=\"ProductName\" operator=\"contains\"/><searchfield return=\"false\" field=\"Family\" operator=\"contains\"/><searchfield return=\"false\" field=\"Status__c\" operator=\"contains\"/></searchfields></filterset></components></division><division behavior=\"fit\" verticalalign=\"center\"><components><template multiple=\"false\" uniqueid=\"sk-lzo6D-673\" cssclass=\"cc-product-or\"><contents>&lt;strong&gt;or&lt;/strong&gt; </contents></template></components></division><division behavior=\"flex\" verticalalign=\"center\" minwidth=\"100px\" ratio=\"1\"><components><filterset model=\"Product\" searchmethod=\"server\" searchbox=\"true\" uniqueid=\"sk-lyynP-521\" emptysearchbehavior=\"query\" searchplaceholdertext=\"Search by keyword\"><filters/><searchfields><searchfield return=\"false\" field=\"Name\" operator=\"contains\"/><searchfield return=\"false\" field=\"Status__c\" operator=\"contains\"/><searchfield return=\"false\" field=\"Family\" operator=\"contains\"/></searchfields></filterset></components></division></divisions><styles><styleitem type=\"background\" bgtype=\"none\"/></styles></grid></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" pagesize=\"25\" createrecords=\"false\" model=\"Product\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"false\" uniqueid=\"sk-uYWfu-421\" emptysearchbehavior=\"query\" cssclass=\"cc-hidden-action-column cc-no-footer\"><fields><field id=\"Name\" hideable=\"false\" uniqueid=\"fi-Yif_a-1250\" type=\"CUSTOM\" snippet=\"rowAction\" allowordering=\"true\" showbydefault=\"true\"/><field id=\"Family\" hideable=\"false\" uniqueid=\"fi-uZbj5-567\" valuehalign=\"\" type=\"\" showbydefault=\"true\" allowordering=\"true\"><label>Category</label></field><field id=\"Status__c\" hideable=\"false\" uniqueid=\"fi-YfcDP-953\" valuehalign=\"\" type=\"\" allowordering=\"true\" showbydefault=\"true\"/></fields><rowactions><action type=\"multi\" label=\"Run multiple actions\" icon=\"sk-icon-popup\"><actions><action type=\"redirect\" window=\"self\" url=\"/CustomerCenter/Product_Detail?id={{Id}}&amp;eventcode={{$Model.EventDetail.data.0.Event_Code__c}}\"/></actions><renderconditions logictype=\"and\"/></action><action type=\"edit\"/><action type=\"delete\"/></rowactions><massactions usefirstitemasdefault=\"true\"><action type=\"massupdate\"/><action type=\"massdelete\"/></massactions><views><view type=\"standard\"/></views><searchfields usesosl=\"true\" soslfields=\"All Fields\"/><renderconditions logictype=\"and\"/></skootable></components><styles><styleitem type=\"background\" bgtype=\"none\"/><styleitem type=\"border\" padding=\"right,top,left,\"><styles><styleitem property=\"padding-left\" value=\"0px\"/><styleitem property=\"padding-top\" value=\"0px\"/><styleitem property=\"padding-right\" value=\"0px\"/><styleitem property=\"box-sizing\" value=\"border-box\"/></styles></styleitem><styleitem type=\"size\"/></styles></wrapper></components></pageregioncontent></pageregioncontents><components/><resources><labels><label id=\"Home_Button\"/><label id=\"Related_Products\"/><label id=\"Add_To_Cart\"/><label id=\"Call_for_details\"/><label id=\"Exhibitor_Catalogue\"/><label id=\"View_Cart\"/><label id=\"Product_Catalogue\"/></labels><css><cssitem location=\"inline\" name=\"BreadCrumb\" cachelocation=\"false\">/*\n.sk-navigation-item &gt; a {\n    margin: 0px 0px;\n    padding:  0 1.5rem 0 .6rem;\n    font-weight: 600;\n    background-image: url(\"../resource/bredcom_arrow\");\n    background-repeat: no-repeat;\n    background-position: right;\n    font-size: 15px;\n    color: black;\n}\n\n.sk-navigation-item &gt; a:hover {\n    background-image: url(\"../resource/bredcom_arrow_hover\");\n    background-repeat: no-repeat;\n    background-position: right;\n    background-color: transparent;\n}\n\n.sk-navigation-item {\n    margin: 0px 3px;\n}\n\n.sk-navigation &gt; .sk-navigation-item:hover, .sk-navigation &gt; .sk-navigation-item:focus {\n    background:  none repeat scroll 0 0;\n}\n.sk-navigation-horizontal {\n    border-top: 0px solid #d8dde6; \n    line-height: 30px !important;\n    border-bottom: 0px solid #0070d2; \n}\n*/\n</cssitem><cssitem location=\"inline\" name=\"mainCSS\" cachelocation=\"false\">\n /* to disable table link*/\n/*.nx-fieldtext{\n    /*pointer-events: none;\n    cursor: default;\n    color: white;\n}\n\n/* Color for the dynamic values \n.nx-field.nx-modified .nx-fieldtext {\n    color:#16325c;\n    font-style: normal;\n}\n*/</cssitem><cssitem location=\"inline\" name=\"NewPageStyles\" cachelocation=\"false\">/*Hide additional row action icon column*/\n.cc-hidden-action-column td:nth-of-type(2) {\n    display: none;\n}\n.cc-hidden-action-column th:nth-of-type(2) {\n    display: none;\n}\n.cc-product-or {\n    padding-right:10px;\n}</cssitem></css><javascript><jsitem location=\"external\" name=\"apexJS\" cachelocation=\"false\" url=\"/soap/ajax/36.0/apex.js\">var params = arguments[0],\n\t$ = skuid.$;\n</jsitem><jsitem location=\"external\" name=\"connectionJS\" cachelocation=\"false\" url=\"/soap/ajax/36.0/connection.js\">var params = arguments[0],\n\t$ = skuid.$;\n</jsitem><jsitem location=\"inlinesnippet\" name=\"populatePrice\" cachelocation=\"false\">    //comment by amish\n    /*var params = arguments[0],\n    contextRow = params.item ? params.item.row : params.row,\n    contextModel = params.model,\n    $ = skuid.$;\n    \n    // Getting context row of the Product\n    var ProductId = contextModel.getFieldValue(contextRow, 'Id', true);\n    var contextContent = contextRow.Name;\n  \tconsole.log('Context ProductId: '+ProductId);\n    console.log('Context Product: '+contextContent);\n    ///////\n   \n    //Getting the Pricebook Object Name\n    var modelE = skuid.model.getModel('Pricebook');\n    var rowE = modelE.getFirstRow();\n    var PricebookObjName= rowE.Name;\n    PricebookObjName=PricebookObjName.split(' ').join('_');\n    PricebookObjName+='__c';\n    \n    console.log('PricebookObjName: '+PricebookObjName);\n    \n     \n    //Getting Event ID\n    var modelA = skuid.model.getModel('EventEditionloginUser');\n    var rowA = modelA.getFirstRow();\n    var eventId= rowA.Id;\n    console.log('eventId: '+eventId);\n    console.log('eventName: '+rowA.Name);\n    var result = sforce.apex.execute('GetProductPriceOnCustomerPortal','getProductPriceOnCustomerPortal', {ProductId:ProductId, PricebookObjName:PricebookObjName, eventId:eventId, Quantity:'1'},function(result){\n        console.log('Result: '+result);\n        var parsedResult = JSON.parse(result);\n        var parsedLen = parsedResult.length;\n        for(var i=0;i&lt;parsedLen;++i)\n        { \n            var modelProduct = skuid.model.getModel('Product');\n            var modelOption = skuid.model.getModel('RelatedProducts');\n            if(parsedResult[i].PrimaryProduct===true){\n                console.log('Primary: '+parsedResult[i].Price);\n                modelProduct.updateRow(\n                    { Id: parsedResult[i].ProductID },\n                    { Price:parsedResult[i].Price }\n                );\n                modelProduct.save();\n            }   \n            else{\n                console.log('Option: '+parsedResult[i].Price);\n                var productList = modelOption.createRow({ \n                    additionalConditions: [\n                        { field: 'ProductID', value: parsedResult[i].ProductID},\n                        { field: 'ProductName', value: parsedResult[i].ProductName},\n                        { field: 'Price', value: parsedResult[i].Price},\n                        { field: 'Type', value: parsedResult[i].Type},\n                        { field: 'Feature', value: parsedResult[i].Feature},\n                        { field: 'Quantity', value: parsedResult[i].Quantity},\n                        { field: 'ProductFamily', value: parsedResult[i].ProductFamily},\n                    ],doAppend: true});\n               console.log('productList'+productList); \n               var a= modelOption.getFirstRow();\n                console.log(a.Id+'='+a.Name+'=='+a.ProductID);\n                modelOption.save();\n               \n            } \n            \n            \n        }\n        \n     });\n  \n    */</jsitem><jsitem location=\"inline\" name=\"newInlineJS\" cachelocation=\"false\" url=\"\">/*(function(skuid){\n\tvar $ = skuid.$;\n\t$(document.body).one('pageload',function(){\n\t\t    var params = arguments[0],\n    contextRow = params.item ? params.item.row : params.row,\n    contextModel = params.model,\n    $ = skuid.$;\n    \n    // Getting context row of the Product\n    var ProductId = contextModel.getFieldValue(contextRow, 'Id', true);\n    var contextContent = contextRow.Name;\n  \tconsole.log('Context ProductId: '+ProductId);\n    console.log('Context Product: '+contextContent);\n    ///////\n   \n    //Getting the Pricebook Object Name\n    var modelE = skuid.model.getModel('Pricebook');\n    var rowE = modelE.getFirstRow();\n    var PricebookObjName= rowE.Name;\n    PricebookObjName=PricebookObjName.split(' ').join('_');\n    PricebookObjName+='__c';\n    \n    console.log('PricebookObjName: '+PricebookObjName);\n    \n     \n    //Getting Event ID\n    var modelA = skuid.model.getModel('EventEditionloginUser');\n    var rowA = modelA.getFirstRow();\n    var eventId= rowA.Id;\n    console.log('eventId: '+eventId);\n    console.log('eventName: '+rowA.Name);\n    var result = sforce.apex.execute('GetProductPriceOnCustomerPortal','getProductPriceOnCustomerPortal', {ProductId:ProductId, PricebookObjName:PricebookObjName, eventId:eventId},function(result){\n        console.log('Result: '+result);\n        var parsedResult = JSON.parse(result);\n        var parsedLen = parsedResult.length;\n        for(var i=0;i&lt;parsedLen;++i)\n        { \n            var modelProduct = skuid.model.getModel('Product');\n            var modelOption = skuid.model.getModel('RelatedProducts');\n            if(parsedResult[i].PrimaryProduct===true){\n                console.log('Primary: '+parsedResult[i].Price);\n                modelProduct.updateRow(\n                    { Id: parsedResult[i].ProductID },\n                    { Price:parsedResult[i].Price }\n                );\n                modelProduct.save();\n            }   \n            else{\n                console.log('Option: '+parsedResult[i].Price);\n                var productList = modelOption.createRow({ \n                    additionalConditions: [\n                        { field: 'ProductID', value: parsedResult[i].ProductID},\n                        { field: 'ProductName', value: parsedResult[i].ProductName},\n                        { field: 'Price', value: parsedResult[i].Price},\n                        { field: 'Type', value: parsedResult[i].Type},\n                        { field: 'Feature', value: parsedResult[i].Feature},\n                        { field: 'Quantity', value: parsedResult[i].Quantity},\n                        { field: 'ProductFamily', value: parsedResult[i].ProductFamily},\n                    ],doAppend: true});\n               \n                modelOption.save();\n               \n            } \n            \n            \n        }\n        \n     });\n  \n    \n\t});\n})(skuid);*/</jsitem><jsitem location=\"inlinesnippet\" name=\"rowAction\" cachelocation=\"false\">\nvar ROW_ACTION_ICON = 'sk-icon-popup';\nvar field = arguments[0],\n    value = skuid.utils.decodeHTML(arguments[1]),\n    $ = skuid.$;\n\nskuid.ui.fieldRenderers[field.metadata.displaytype][field.mode](field,value);\n// If we're NOT in edit mode, then have the \"link\" action show a popup\nif (field.mode !== 'edit') {\n    if (ROW_ACTION_ICON) {\n        field.element.find('a').attr('href','#').on('click',function(){\n            var closestTr = field.element.closest('tr');\n            var tds = closestTr.children('td');\n            var actionsCell;\n            if (tds.length) {\n                if (tds.first().find('input[type=\"checkbox\"]').length) {\n                    actionsCell = tds[1];\n                } else {\n                    actionsCell = tds[0];\n                }\n            }\n            if (actionsCell) {\n                var rowAction = $(actionsCell).find('.'+ROW_ACTION_ICON);\n                if (rowAction) {\n                    // Trigger the click action\n                    rowAction.click();\n                }\n            }\n        });\n    }\n}\n\n</jsitem></javascript><actionsequences/></resources></skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]